"use strict";(self.webpackChunkproject_ucranes03=self.webpackChunkproject_ucranes03||[]).push([[550],{6618:(e,r,i)=>{i.d(r,{Z:()=>m});var t=i(2791);const n="Ingredients_ingredient_container__gr-3U",a="Ingredients_img_wrapper__z8MRG",s="Ingredients_info_wrapper__ref+n",o="Ingredients_name_style__3XTrH",c="Ingredients_measure_style__tz9RC",l="Ingredients_btn__YgUSW";var d=i(3439),_=i(5265),p=i(3329);const m=e=>{let{img:r,name:i,measure:m,_id:u,callback:g=null}=e;const[h,x]=(0,t.useState)(r);return(0,p.jsxs)("li",{className:n,children:[(0,p.jsx)("img",{src:h,alt:i,className:a,onError:()=>{x(_.Z)}}),(0,p.jsxs)("div",{className:s,children:[(0,p.jsx)("p",{className:o,children:i}),(0,p.jsx)("p",{className:c,children:m})]}),g&&(0,p.jsx)("button",{className:l,onClick:()=>g(u),children:(0,p.jsx)("svg",{height:16,width:16,children:(0,p.jsx)("use",{href:"".concat(d.Z,"#icon-close")})})})]})}},1746:(e,r,i)=>{i.d(r,{Z:()=>a});const t="MainTitle_title__R5KXq";var n=i(3329);const a=e=>{let{children:r}=e;return(0,n.jsx)("h2",{className:t,children:r})}},8099:(e,r,i)=>{i.d(r,{Z:()=>a});const t={page:"PageContainer_page__uM9Tb",home:"PageContainer_home__oMp0D",recipe:"PageContainer_recipe__2uBu-",profile:"PageContainer_profile__r6XCR"};var n=i(3329);const a=e=>{let{page:r,children:i,tag:a="div"}=e;return"section"===a?(0,n.jsx)("section",{className:"".concat(t.page," ").concat(r?t[r]:""),children:i}):(0,n.jsx)("div",{className:"".concat(t.page," ").concat(r?t[r]:""),children:i})}},8956:(e,r,i)=>{i.d(r,{Z:()=>o});var t=i(1087);const n="PathInfo_path__rwXvn",a="PathInfo_current__3TPtY";var s=i(3329);const o=e=>{let{current:r}=e;return(0,s.jsxs)("div",{className:n,children:[(0,s.jsx)(t.rU,{to:"/",children:"Home"}),(0,s.jsx)("span",{children:"/"}),(0,s.jsx)("span",{className:a,children:r})]})}},2456:(e,r,i)=>{i.d(r,{X:()=>t});const t=e=>({control:(r,i)=>({...r,borderRadius:"30px",border:"1px solid ".concat(e?"var(--color-error, #d00000)":"var(--color-main-20, rgba(5, 5, 5, 0.20))"),fontFamily:"Mulish",fontSize:"16px",fontStyle:"normal",fontWeight:500,lineHeight:"24px",letterSpacing:"-0.02em",color:"var(--color-main, #050505)",boxShadow:"none",padding:"16px 18px",backgroundColor:"var(--color-bg)","&:hover":{borderColor:e?"var(--color-error, #d00000)":"var(--color-main-60, rgba(5, 5, 5, 0.60))"},cursor:"pointer"}),valueContainer:e=>({...e,padding:0,margin:0}),input:e=>({...e,padding:0,margin:0}),singleValue:e=>({...e,color:"var(--color-main, #050505)",margin:"0",padding:"0"}),multiValue:e=>({...e,backgroundColor:"transparent",color:"var(--color-main, #050505)",padding:"0",margin:"0"}),multiValueLabel:e=>({...e,color:"var(--color-main, #050505)",fontFamily:"Mulish",fontSize:"16px",fontStyle:"normal",fontWeight:500,lineHeight:"24px",letterSpacing:"-0.02em",padding:"0",margin:"0"}),placeholder:e=>({...e,color:"var(--color-main-60, rgba(5, 5, 5, 0.60))",fontFamily:"Mulish",fontSize:"16px",fontStyle:"normal",fontWeight:500,lineHeight:"24px",letterSpacing:"-0.02em"}),indicatorSeparator:()=>({display:"none"}),dropdownIndicator:(e,r)=>({...e,transition:"var(--transition)",transform:r.selectProps.menuIsOpen?"rotate(180deg)":"rotate(0deg)",color:"var(--color-main, #050505)",padding:4,"&:hover":{color:"var(--color-main, #050505)"}}),clearIndicator:e=>({...e,padding:4,color:"var(--color-main, #050505)","&:hover":{color:"var(--color-main, #050505)"}}),menu:e=>({...e,backgroundColor:"var(--color-bg)",borderRadius:"15px",border:"1px solid var(--color-main-20, rgba(5, 5, 5, 0.20))",padding:"16px 0"}),menuList:e=>({...e,"::-webkit-scrollbar":{width:"5px"},"::-webkit-scrollbar-track":{background:"transparent"},"::-webkit-scrollbar-thumb":{borderRadius:"3px",background:"var(--color-main-80)"},"::-webkit-scrollbar-thumb:hover":{background:"var(--color-main)"},padding:"0 9px 0 14px"}),option:(e,r)=>({...e,fontFamily:"Mulish",fontSize:"16px",fontStyle:"normal",fontWeight:500,lineHeight:"24px",letterSpacing:"-0.02em",color:"var(--color-main, #050505)",borderRadius:"4px",padding:"0 4px",margin:"0",backgroundColor:r.isSelected?"var(--color-main-20)":r.isFocused?"var(--color-main-10)":null,"&:active":{backgroundColor:"var(--color-main-20)"},"&:selected":{backgroundColor:"var(--color-main-10)"}})})},9887:(e,r,i)=>{i.d(r,{Z:()=>a});const t={text:"Subtitle_text__tBnTO",categories:"Subtitle_categories__vridf",recipes:"Subtitle_recipes__qvZt7"};var n=i(3329);const a=e=>{let{section:r,children:i}=e;return(0,n.jsx)("p",{className:"".concat(t.text," ").concat(r?t[r]:""),children:i})}},2550:(e,r,i)=>{i.r(r),i.d(r,{default:()=>P});var t=i(8956),n=i(1746),a=i(9887),s=i(2791),o=i(1134),c=i(700),l=i(4420),d=i(7689),_=i(4660),p=i(5954),m=i(5781),u=i(1961),g=i(7878),h=i(5787),x=i(9985),b=i(751),v=i(8007),j=i(4695);const f=v.Ry().shape({thumb:v.nK().required("Photo is required").test("fileType","Unsupported File Format",(e=>{var r;return e&&"image"===(null===(r=e[0])||void 0===r?void 0:r.type.split("/")[0])})),title:v.Z_().required("Title is required").min(3,"Title must have at least 3 symbols").max(30),description:v.Z_().required("Description is required").max(200,"Description should not exceed 200 characters"),category:v.Ry().shape({value:v.Z_().required("Category is required")}).required("Category is required"),area:v.Ry().shape({value:v.Z_().required("Area is required")}).required("Area is required"),ingredients:v.IX().of(v.Ry().shape({id:v.Z_().required("Ingredient is required"),measure:v.Z_().required("Measure is required")})).test("length","Recipe must have minimum 1 igredient",(e=>e.length>0)),instructions:v.Z_().required("Instructions are required").max(2500,"Instructions should not exceed 2500 characters"),time:v.Rx().required("Time is required").min(1,"Time should be at least 1 minute")}),y=(0,j.X)(f);var N=i(411),R=i(6618),A=i(2456),F=i(3439);const q={error:"AddRecipeForm_error__ksgDg",input:"AddRecipeForm_input__otdzf",select:"AddRecipeForm_select__B6GW+",input_preparation:"AddRecipeForm_input_preparation__0okga",input_description:"AddRecipeForm_input_description__w8CvM",btn_another_photo:"AddRecipeForm_btn_another_photo__q-WYY",title_form:"AddRecipeForm_title_form__Q+N-l",text_form:"AddRecipeForm_text_form__-TJrY",input_file:"AddRecipeForm_input_file__PPysC",label_photo_icon:"AddRecipeForm_label_photo_icon__xvX0w",icon_camera:"AddRecipeForm_icon_camera__YhABU",box_form:"AddRecipeForm_box_form__nPD0F",box_file:"AddRecipeForm_box_file__iSWAC",photo_file:"AddRecipeForm_photo_file__ZofAL",box_time_categories:"AddRecipeForm_box_time_categories__W7reZ",box_input_name:"AddRecipeForm_box_input_name__RHasj",input_quantity:"AddRecipeForm_input_quantity__KYRDg",list_ingredients:"AddRecipeForm_list_ingredients__2Eu0R",input_name:"AddRecipeForm_input_name__r3WgH",box_select_cat:"AddRecipeForm_box_select_cat__HY6Bf",line_under_input:"AddRecipeForm_line_under_input__y+bX3",text_length:"AddRecipeForm_text_length__HlP0j",box_description:"AddRecipeForm_box_description__GxhAK",title_description:"AddRecipeForm_title_description__DjEhT",box_time_btn:"AddRecipeForm_box_time_btn__UXePS",counter_time:"AddRecipeForm_counter_time__TJCCE",box_name_cate_ingr:"AddRecipeForm_box_name_cate_ingr__TDAnY",box_btn_del_pub:"AddRecipeForm_box_btn_del_pub__thKbD",box_area:"AddRecipeForm_box_area__r9n+O",btn_time:"AddRecipeForm_btn_time__FWlJ8",icon_time:"AddRecipeForm_icon_time__kgJvK",box_preparation:"AddRecipeForm_box_preparation__8MDEW",btn_delete:"AddRecipeForm_btn_delete__38hBi",delete_btn:"AddRecipeForm_delete_btn__rx85M",input_error:"AddRecipeForm_input_error__m1JAV",error_message:"AddRecipeForm_error_message__1kBQ4",error_file:"AddRecipeForm_error_file__-Xpiu",input_wrapper:"AddRecipeForm_input_wrapper__O4Xea",boxIngredQuan:"AddRecipeForm_boxIngredQuan__E+YLi",box_ingredients:"AddRecipeForm_box_ingredients__6pYch",box_input_ingredients:"AddRecipeForm_box_input_ingredients__5suJw",box_input_quantity:"AddRecipeForm_box_input_quantity__m6T6c",boxInputsForm:"AddRecipeForm_boxInputsForm__+-HPg"};var C=i(8568),Z=i(3329);const w=()=>{const[e,r]=(0,s.useState)(null),[i,t]=(0,s.useState)(0),[n,a]=(0,s.useState)([]),{id:v}=(0,l.v9)(C.dy),j=(0,l.v9)(g.i3),f=(0,l.v9)(h.i9),w=(0,l.v9)(u.AP),k=(0,l.v9)(h.jq),P=(0,d.s0)(),S=(0,l.I0)();(0,s.useEffect)((()=>{j.length||S((0,m.p)())}),[j.length,S]),(0,s.useEffect)((()=>{f.length||S((0,_.D)())}),[S,f.length]),(0,s.useEffect)((()=>{w.length||S((0,p.s)())}),[S,w.length]);const{register:I,handleSubmit:T,control:X,formState:{errors:E},setValue:D,getValues:M,reset:U,trigger:W}=(0,o.cI)({resolver:y,defaultValues:{thumb:null,title:"",description:"",instructions:"",area:null,time:0,ingredients:[],ingredient:null,measure:""}}),H=async e=>{const r=M("ingredients");D("ingredients",r.filter((r=>{let{id:i}=r;return i!==e}))),a((r=>r.filter((r=>r._id!==e)))),await W("ingredients")},Y=e=>{const i=e.target.files[0];if("image"!==i.type.split("/")[0])return(0,b.x)(new Error("Unsupported file format")),void(e.target.value="");r(URL.createObjectURL(i))};return(0,Z.jsx)("form",{noValidate:!0,onSubmit:T((async e=>{const r=new FormData;r.append("title",e.title),r.append("description",e.description),r.append("category",e.category.value),r.append("area",e.area.value),r.append("instructions",e.instructions),r.append("thumb",e.thumb[0]),r.append("time",e.time),e.ingredients.forEach(((e,i)=>{r.append("ingredients[".concat(i,"][id]"),e.id),r.append("ingredients[".concat(i,"][measure]"),e.measure)}));try{await(0,x.XD)(r),P("/user/".concat(v))}catch(i){(0,b.x)(i)}})),children:(0,Z.jsxs)("div",{className:q.box_form,children:[(0,Z.jsxs)("div",{className:"".concat(q.box_file," ").concat(E.thumb&&q.input_error),children:[e?(0,Z.jsxs)("label",{className:q.btn_another_photo,children:["Upload another photo",(0,Z.jsx)("input",{className:q.input_file,...I("thumb",{onChange:Y}),type:"file"})]}):(0,Z.jsxs)("label",{className:q.label_photo_icon,children:[(0,Z.jsx)("svg",{className:q.icon_camera,children:(0,Z.jsx)("use",{href:"".concat(F.Z,"#icon-camera")})}),(0,Z.jsx)("span",{className:q.text_photo_add,children:"Upload a photo"}),(0,Z.jsx)("input",{className:q.input_file,...I("thumb",{onChange:Y}),type:"file"})]}),e&&(0,Z.jsx)("img",{className:q.photo_file,src:e,alt:"Preview"}),E.thumb&&(0,Z.jsx)("span",{className:q.error_file,children:E.thumb.message})]}),(0,Z.jsxs)("div",{className:q.boxInputsForm,children:[(0,Z.jsxs)("div",{className:q.box_name_cate_ingr,children:[(0,Z.jsxs)("div",{className:q.box_input_name,children:[(0,Z.jsxs)("div",{className:q.input_wrapper,children:[E.title&&(0,Z.jsx)("span",{className:q.error,children:E.title.message}),(0,Z.jsx)("input",{name:"title",placeholder:"The name of the recipe",className:"".concat(q.input_name),type:"text",...I("title")})]}),(0,Z.jsxs)("div",{className:q.box_description,children:[E.description&&(0,Z.jsx)("span",{className:q.error,children:E.description.message}),(0,Z.jsx)("textarea",{rows:2,name:"description",maxLength:200,className:"".concat(q.input_description," ").concat(E.description?q.error_message:""),...I("description",{onChange:e=>{const{value:r}=e.target;t(r.length)}}),placeholder:"Enter a description of the dish",type:"text"}),(0,Z.jsx)("span",{className:q.text_length,children:"".concat(i,"/200")})]})]}),(0,Z.jsxs)("div",{className:q.box_time_categories,children:[(0,Z.jsxs)("div",{className:q.box_select_cat,children:[(0,Z.jsx)("label",{className:q.title_description,children:"Category"}),E.category&&(0,Z.jsx)("span",{className:q.error,children:E.category.value?E.category.value.message:E.category.message}),(0,Z.jsx)(o.Qr,{className:q.select,name:"category",control:X,render:e=>{let{field:r}=e;return(0,Z.jsx)(c.ZP,{isClearable:!0,placeholder:"Select a category",styles:(0,A.X)(E.category),...r,options:j})}})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)("label",{className:q.title_description,children:"COOKING TIME"}),(0,Z.jsxs)("div",{className:q.box_time_btn,children:[(0,Z.jsx)("button",{className:q.btn_time,onClick:()=>{const e=M("time")>5?M("time")-5:0;D("time",e),W("time")},type:"button",children:(0,Z.jsx)("svg",{className:q.icon_time,children:(0,Z.jsx)("use",{href:"".concat(F.Z,"#icon-minus")})})}),(0,Z.jsxs)("span",{className:"".concat(q.counter_time," ").concat(E.time&&q.error_message),children:[M("time")," min"]}),(0,Z.jsx)("button",{className:q.btn_time,onClick:()=>{D("time",M("time")+5),W("time")},type:"button",children:(0,Z.jsx)("svg",{className:q.icon_time,children:(0,Z.jsx)("use",{href:"".concat(F.Z,"#icon-plus")})})})]}),E.time&&(0,Z.jsx)("span",{className:q.error_message,children:"Time is required"})]})]}),(0,Z.jsxs)("div",{className:q.box_area,children:[(0,Z.jsx)("label",{className:q.title_description,children:"Area"}),E.area&&(0,Z.jsx)("span",{className:q.error,children:E.area.message}),(0,Z.jsx)(o.Qr,{className:q.select,name:"area",control:X,render:e=>{let{field:r}=e;return(0,Z.jsx)(c.ZP,{isClearable:!0,placeholder:"Pick area",styles:(0,A.X)(E.area),...r,options:w})}})]}),(0,Z.jsxs)("div",{className:q.box_ingredients,children:[(0,Z.jsx)("label",{className:q.title_description,children:"Ingredients"}),(0,Z.jsxs)("div",{className:q.boxIngredQuan,children:[E.ingredients&&(0,Z.jsx)("span",{className:q.error,children:E.ingredients.message}),(0,Z.jsx)("div",{className:q.box_input_ingredients,children:(0,Z.jsx)(o.Qr,{name:"ingredient",control:X,render:e=>{let{field:r}=e;return(0,Z.jsx)(c.ZP,{isClearable:!0,placeholder:"Add the ingredient",styles:(0,A.X)(E.ingredients),...r,options:f})}})}),(0,Z.jsx)("div",{className:q.box_input_quantity,children:(0,Z.jsx)("input",{name:"measure",className:"".concat(q.input_quantity,"  ").concat(E.ingredients?q.input_error:""),...I("measure",{required:"Input measure"}),type:"text",placeholder:"Enter quantity"})})]})]})]}),(0,Z.jsxs)(N.Z,{type:"button",color:"secondary",size:"normal",onClick:async()=>{const e=M("ingredient"),r=M("measure");if(e&&r){const i=M("ingredients");if(i.find((r=>{let{id:i}=r;return e.value===i})))return(0,b.x)({message:"This ingredien is already added"});D("ingredients",[...i,{id:e.value,measure:r}]);const t=k.find((r=>r._id===e.value));a((e=>[...e,{...t,measure:r}])),D("measure",""),D("ingredient",null),await W("ingredients")}else(0,b.x)({message:"Please select an ingredient and enter a measure"})},children:[(0,Z.jsx)("span",{children:"Add ingredient"}),(0,Z.jsx)("svg",{children:(0,Z.jsx)("use",{href:"".concat(F.Z,"#icon-plus")})})]}),(0,Z.jsx)("ul",{className:q.list_ingredients,children:n.length>0&&n.map((e=>{let{img:r,name:i,measure:t,_id:n}=e;return(0,Z.jsx)(R.Z,{_id:n,callback:H,img:r,name:i,measure:t},n)}))}),(0,Z.jsxs)("div",{className:q.box_preparation,children:[(0,Z.jsx)("label",{className:q.title_description,children:"Recipe Preparation"}),E.instructions&&(0,Z.jsx)("span",{className:q.error,children:E.instructions.message}),(0,Z.jsx)("textarea",{name:"instructions",className:"".concat(q.input_preparation),...I("instructions"),placeholder:"Enter recipe"})]}),(0,Z.jsxs)("div",{className:q.box_btn_del_pub,children:[(0,Z.jsx)("button",{type:"button",onClick:e=>{U(),r(null),a([])},className:q.delete_btn,children:(0,Z.jsx)("svg",{className:q.btn_delete,children:(0,Z.jsx)("use",{href:"".concat(F.Z,"#icon-trash")})})}),(0,Z.jsx)(N.Z,{type:"submit",color:"primary",size:"large",children:"Publish"})]})]})]})})};var k=i(8099);const P=()=>(0,Z.jsxs)(k.Z,{tag:"section",children:[(0,Z.jsxs)("div",{className:"section",children:[(0,Z.jsx)(t.Z,{current:"Add recipe"}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)(n.Z,{children:"Add recipe"}),(0,Z.jsx)(a.Z,{children:"Reveal your culinary art, share your favorite recipe and create gastronomic masterpieces with us."})]})]}),(0,Z.jsx)(w,{})]})},9985:(e,r,i)=>{i.d(r,{G3:()=>n,Ni:()=>p,Qd:()=>c,T0:()=>s,V4:()=>l,XD:()=>m,a3:()=>_,iM:()=>a,lZ:()=>o,qG:()=>d});var t=i(9503);const n=e=>t.hi.get("/api/recipes/details/".concat(e)),a=function(){let{page:e,limit:r,category:i,ingredients:n,area:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.hi.get("/api/recipes",{params:{page:e,limit:r,category:i,ingredients:n,area:a}})},s=()=>t.hi.get("/api/recipes/popular"),o=function(){let{page:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.hi.get("/api/recipes/favorite",{params:{page:e,limit:9}})},c=function(){let{page:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.hi.get("/api/recipes/own",{params:{page:e,limit:9}})},l=function(){let{page:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return t.hi.get("/api/recipes/own/".concat(r),{params:{page:e,limit:9}})},d=e=>t.hi.delete("/api/recipes/own/".concat(e)),_=e=>t.hi.patch("/api/recipes/addFavorite/".concat(e)),p=e=>t.hi.patch("/api/recipes/removeFavorite/".concat(e)),m=e=>t.hi.post("/api/recipes/own",e,{headers:{"Content-Type":"multipart/form-data"}})},1961:(e,r,i)=>{i.d(r,{AP:()=>t});const t=(0,i(3553).P1)((e=>e.areas.items),(e=>e.map((e=>{let{_id:r,name:i}=e;return{value:r,label:i}}))))},7878:(e,r,i)=>{i.d(r,{i3:()=>o,pf:()=>c,us:()=>n,xU:()=>s,zh:()=>a});var t=i(3553);const n=e=>e.categories.items,a=e=>e.categories.error,s=e=>e.categories.isLoading,o=(0,t.P1)(n,(e=>e.map((e=>{let{_id:r,name:i}=e;return{value:r,label:i}})))),c=(0,t.P1)([n,(e,r)=>r],((e,r)=>null===e||void 0===e?void 0:e.find((e=>{let{_id:i}=e;return i===r}))))},5787:(e,r,i)=>{i.d(r,{i9:()=>a,jq:()=>n});var t=i(3553);const n=e=>e.ingredients.items,a=(0,t.P1)(n,(e=>e.map((e=>{let{_id:r,name:i}=e;return{value:r,label:i}}))))}}]);
//# sourceMappingURL=550.5e770211.chunk.js.map