"use strict";(self.webpackChunkproject_ucranes03=self.webpackChunkproject_ucranes03||[]).push([[720],{1746:function(e,n,t){t.d(n,{Z:function(){return i}});var r="MainTitle_title__R5KXq",a=t(3329),i=function(e){var n=e.children;return(0,a.jsx)("h2",{className:r,children:n})}},8099:function(e,n,t){t.d(n,{Z:function(){return i}});var r={page:"PageContainer_page__uM9Tb",home:"PageContainer_home__oMp0D",recipe:"PageContainer_recipe__2uBu-",profile:"PageContainer_profile__r6XCR"},a=t(3329),i=function(e){var n=e.page,t=e.children;e.tag;return(0,a.jsx)("section",{className:"".concat(r.page," ").concat(n?r[n]:""),children:t})}},8956:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(1087),a="PathInfo_path__rwXvn",i="PathInfo_current__3TPtY",s=t(3329),c=function(e){var n=e.current;return(0,s.jsxs)("div",{className:a,children:[(0,s.jsx)(r.rU,{to:"/",children:"Home"}),(0,s.jsx)("span",{children:"/"}),(0,s.jsx)("span",{className:i,children:n})]})}},9887:function(e,n,t){t.d(n,{Z:function(){return i}});var r={text:"Subtitle_text__tBnTO",categories:"Subtitle_categories__vridf",recipes:"Subtitle_recipes__qvZt7"},a=t(3329),i=function(e){var n=e.section,t=e.children;return(0,a.jsx)("p",{className:"".concat(r.text," ").concat(n?r[n]:""),children:t})}},6033:function(e,n,t){t.d(n,{I:function(){return a},k:function(){return r}});var r=function(e){if(e){var n=e.getBoundingClientRect();n.top>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)||e.scrollIntoView({behavior:"smooth",block:"start"})}},a=function(e,n){if(e&&n){var t=e.getBoundingClientRect(),r=n.getBoundingClientRect(),a=e.scrollLeft+(r.left-t.left)-t.width/2+r.width/2;e.scrollTo({left:a,behavior:"smooth"})}}},6720:function(e,n,t){t.r(n),t.d(n,{default:function(){return V}});var r=t(2791),a=t(7689),i=t(3536),s=t(8099),c=t(8956),o=t(1746),l=t(9887),u=t(1413),f=t(5861),p=t(9439),h=t(4687),d=t.n(h),v=t(411),x=t(6493),_=t(4420),j=t(4156),m=function(e){return j.hi.patch("/api/users/avatars",e,{headers:{"Content-Type":"multipart/form-data"}})},g=t(1324),w=t(3439),b="UserInfo_avatar__Gdbfx",Z="UserInfo_fileInputWrapper__tcOLJ",k="UserInfo_input_file__t8Fyu",y="UserInfo_icon_plus__rPVgp",C=t(3657),N=t(9321),R=t(7370),I=t(8568),F=t(9227),T=t(6809),P=t(3329),S=function(){var e=(0,_.v9)(I.Vh),n=(0,_.I0)(),t=(0,a.UO)().id,i="current"===t,s=(0,r.useState)(null),c=(0,p.Z)(s,2),o=c[0],l=c[1],h=(0,r.useState)(!1),S=(0,p.Z)(h,2),L=S[0],E=S[1];(0,r.useEffect)((function(){var e=function(){var e=(0,f.Z)(d().mark((function e(){var n,r,a,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!i){e.next=9;break}return e.next=4,j.hi.get("/api/users/info");case 4:n=e.sent,r=n.data,l(r),e.next=14;break;case 9:return e.next=11,c=t,j.hi.get("/api/users/info/".concat(c));case 11:a=e.sent,s=a.data,l(s);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}var c}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();e()}),[i,t]);var B=function(){var e=(0,f.Z)(d().mark((function e(t){var r,a,i,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t.target.files[0])){e.next=16;break}return(a=new FormData).append("avatar",r),e.prev=4,e.next=7,m(a);case 7:i=e.sent,s=i.data,l((function(e){return(0,u.Z)((0,u.Z)({},e),{},{avatar:s.avatar})})),n((0,C.J3)(s.avatar)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),(0,F.x)(e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(n){return e.apply(this,arguments)}}(),U=function(){var e=(0,f.Z)(d().mark((function e(t){var r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,T.ER)(t);case 3:r=e.sent,a=r.data,n((0,C.g8)(a.following)),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}(),M=function(){var e=(0,f.Z)(d().mark((function e(t){var r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,T.Am)(t);case 3:r=e.sent,a=r.data,n((0,C.g8)(a.following)),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}(),O=o||{},H=O.email,A=O.recipes,V=O.favorites,W=O.followers,X=O.following,q=O.name,D=O.avatar;return(0,P.jsxs)("div",{children:[(0,P.jsx)(x.Z,{publicId:D,alt:"avatar",defaultImage:g.Z,className:b}),i&&(0,P.jsxs)("div",{className:Z,children:[(0,P.jsx)("input",{className:k,type:"file",onChange:B}),(0,P.jsx)("svg",{className:y,children:(0,P.jsx)("use",{href:"".concat(w.Z,"#icon-plus")})})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("p",{children:q}),(0,P.jsxs)("ul",{children:[(0,P.jsxs)("li",{children:[(0,P.jsx)("span",{children:"Email"}),": ",(0,P.jsx)("span",{children:H})]}),(0,P.jsxs)("li",{children:[(0,P.jsx)("span",{children:"Added recipes"}),": ",(0,P.jsx)("span",{children:A})]}),i&&(0,P.jsxs)("li",{children:[(0,P.jsx)("span",{children:"Favorites"}),": ",(0,P.jsx)("span",{children:V})]}),(0,P.jsxs)("li",{children:[(0,P.jsx)("span",{children:"Followers"}),": ",(0,P.jsx)("span",{children:W})]}),i&&(0,P.jsxs)("li",{children:[(0,P.jsx)("span",{children:"Following"}),": ",(0,P.jsx)("span",{children:X})]})]}),i&&(0,P.jsx)(v.Z,{type:"button",onClick:function(){return E(!0)},children:"Log out"}),!i&&(null!==e&&void 0!==e&&e.includes(t)?(0,P.jsx)(v.Z,{type:"button",onClick:function(){return U(t)},children:"Following"}):(0,P.jsx)(v.Z,{type:"button",onClick:function(){return M(t)},children:"Follow"})),L&&(0,P.jsx)(N.Z,{onClose:function(){return E(!1)},children:(0,P.jsx)(R.Z,{onClose:function(){return E(!1)}})})]})]})},L=t(1087),E=t(6033),B="TabsList_tabs_wrapper__29yMQ",U="TabsList_tabs_list__03iky",M="TabsList_tab__5plTK",O={current:[{name:"My recipes",path:"recipes"},{name:"My favorites",path:"favorites"},{name:"Followers",path:"followers"},{name:"Following",path:"following"}],other:[{name:"Recipes",path:"recipes"},{name:"Followers",path:"followers"}]},H=function(){var e=(0,a.TH)(),n=(0,i.kf)(),t=(0,i.Pv)(),s=(0,r.useState)(null),c=(0,p.Z)(s,2),o=c[0],l=c[1],u=(0,r.useState)(0),f=(0,p.Z)(u,2),h=f[0],d=f[1],v=(0,r.useState)(0),x=(0,p.Z)(v,2),_=x[0],j=x[1],m=(0,r.useState)(0),g=(0,p.Z)(m,2),w=g[0],b=g[1],Z=(0,r.useRef)(null),k=(0,r.useRef)(null),y=(0,r.useRef)(null),C="current"===(0,a.UO)().id?"current":"other";return(0,r.useLayoutEffect)((function(){l(e.pathname.split("/").slice(-1)[0])}),[e.pathname]),(0,r.useLayoutEffect)((function(){Z.current&&k.current&&y.current&&(!function(){var e=y.current,n=e.getBoundingClientRect(),t=k.current.getBoundingClientRect();d(e.offsetWidth),j(n.left-t.left),b(t.width)}(),n&&(0,E.I)(Z.current,y.current))}),[o,n,t]),(0,P.jsx)("div",{ref:Z,className:B,style:{"--var-active-width":"".concat(h,"px"),"--var-active-left":"".concat(_,"px"),"--var-tabs-width":"".concat(w,"px")},children:(0,P.jsx)("ul",{className:U,ref:k,children:O[C].map((function(e,n){var t=e.name,r=e.path;return(0,P.jsx)("li",{children:(0,P.jsx)(L.OL,{to:r,ref:o===r?y:null,className:M,children:t})},n)}))})})},A=t(6215),V=function(){var e=(0,i.eW)();return(0,P.jsxs)(s.Z,{tag:"section",page:"profile",children:[(0,P.jsxs)("div",{className:"section",children:[(0,P.jsx)(c.Z,{current:"Profile"}),(0,P.jsxs)("div",{children:[(0,P.jsx)(o.Z,{children:"Profile"}),(0,P.jsx)(l.Z,{children:"Reveal your culinary art, share your favorite recipe and create gastronomic masterpieces with us."})]}),!e&&(0,P.jsx)(S,{})]}),(0,P.jsxs)("div",{className:"section_row",children:[e&&(0,P.jsx)(S,{}),(0,P.jsxs)("div",{className:"section",children:[(0,P.jsx)(H,{}),(0,P.jsx)(r.Suspense,{fallback:(0,P.jsx)(A.Z,{}),children:(0,P.jsx)(a.j3,{})})]})]})]})}},6809:function(e,n,t){t.d(n,{$7:function(){return a},Am:function(){return s},ER:function(){return i},ET:function(){return c}});var r=t(4156),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.page,t=e.limit;return r.hi.get("/api/users/following",{params:{page:n,limit:t}})},i=function(e){return r.hi.patch("/api/users/removeFollowing/".concat(e))},s=function(e){return r.hi.patch("/api/users/addFollowing/".concat(e))},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.page,t=e.limit;return r.hi.get("/api/users/followers",{params:{page:n,limit:t}})}}}]);
//# sourceMappingURL=720.0bd2105d.chunk.js.map