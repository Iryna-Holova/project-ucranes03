"use strict";(self.webpackChunkproject_ucranes03=self.webpackChunkproject_ucranes03||[]).push([[177],{1746:(e,s,a)=>{a.d(s,{Z:()=>n});const t="MainTitle_title__R5KXq";var l=a(3329);const n=e=>{let{children:s}=e;return(0,l.jsx)("h2",{className:t,children:s})}},8099:(e,s,a)=>{a.d(s,{Z:()=>n});const t={page:"PageContainer_page__uM9Tb",home:"PageContainer_home__oMp0D",recipe:"PageContainer_recipe__2uBu-",profile:"PageContainer_profile__r6XCR"};var l=a(3329);const n=e=>{let{page:s,children:a,tag:n="div"}=e;return"section"===n?(0,l.jsx)("section",{className:"".concat(t.page," ").concat(s?t[s]:""),children:a}):(0,l.jsx)("div",{className:"".concat(t.page," ").concat(s?t[s]:""),children:a})}},8956:(e,s,a)=>{a.d(s,{Z:()=>r});var t=a(1087);const l="PathInfo_path__rwXvn",n="PathInfo_current__3TPtY";var i=a(3329);const r=e=>{let{current:s}=e;return(0,i.jsxs)("div",{className:l,children:[(0,i.jsx)(t.rU,{to:"/",children:"Home"}),(0,i.jsx)("span",{children:"/"}),(0,i.jsx)("span",{className:n,children:s})]})}},9887:(e,s,a)=>{a.d(s,{Z:()=>n});const t={text:"Subtitle_text__tBnTO",categories:"Subtitle_categories__vridf",recipes:"Subtitle_recipes__qvZt7"};var l=a(3329);const n=e=>{let{section:s,children:a}=e;return(0,l.jsx)("p",{className:"".concat(t.text," ").concat(s?t[s]:""),children:a})}},6033:(e,s,a)=>{a.d(s,{II:()=>n,kI:()=>t,xf:()=>l});const t=e=>{if(!e)return;const s=e.getBoundingClientRect();s.top>=0&&s.bottom<=(window.innerHeight||document.documentElement.clientHeight)||e.scrollIntoView({behavior:"smooth",block:"start"})},l=e=>{if(!e)return;e.getBoundingClientRect().top<0&&window.scrollTo({top:e.offsetTop-100,behavior:"smooth"})},n=(e,s)=>{if(!e||!s)return;const a=e.getBoundingClientRect(),t=s.getBoundingClientRect(),l=e.scrollLeft+(t.left-a.left)-a.width/2+t.width/2;e.scrollTo({left:l,behavior:"smooth"})}},9177:(e,s,a)=>{a.r(s),a.d(s,{default:()=>K});var t=a(2791),l=a(7689),n=a(3536),i=a(8099),r=a(8956),o=a(1746),c=a(9887),d=a(4420),u=a(3657),h=a(7820),p=a(8568),_=a(9447),f=a(6809),m=a(751),v=a(1175),x=a(7370),g=a(411),j=a(8417),w=a(1324),N=a(3439);const b="UserInfo_user_info_container__D+klU",y="UserInfo_avatar__Gdbfx",I="UserInfo_image_input_wrapper__3Dva1",C="UserInfo_file_input_label__Zh9Vz",Z="UserInfo_icon_plus__rPVgp",U="UserInfo_name_items_list_wrapper__q2ow+",R="UserInfo_name__6mj8r",k="UserInfo_loader__tokeK",S="UserInfo_list_items__f+syP",T="UserInfo_list_item__5vUS1",F="UserInfo_item_name__j0iTq",P="UserInfo_item_value__Q3i9y";var L=a(3329);const B=()=>{var e;const s=(0,d.v9)(p.Vh),a=(0,d.v9)(p.dy),n=(0,d.I0)(),i=(0,l.s0)(),r=(0,l.UO)().id,o=r===(null===a||void 0===a?void 0:a.id),[c,B]=(0,t.useState)(null),[E,M]=(0,t.useState)(!1),[q,D]=(0,t.useState)(!1),[H,O]=(0,t.useState)(!1),[V,A]=(0,t.useState)(!1);(0,t.useEffect)((()=>{(async()=>{B(null),D(!0);try{if(o)await n((0,h.bG)()).unwrap();else{const{data:e}=await(0,_.C5)(r);B(e)}}catch(e){(0,m.x)({message:"User not found."})}finally{D(!1)}})()}),[n,o,r]);const{email:K,recipes:W,followers:X,name:G,avatar:Q}=c||{};return(0,L.jsxs)("div",{className:b,children:[(0,L.jsxs)("div",{className:U,children:[(0,L.jsxs)("div",{className:I,children:[(0,L.jsx)(j.Z,{publicId:o?a.avatar:Q,alt:"avatar",defaultImage:w.Z,className:y}),o&&(0,L.jsxs)("label",{htmlFor:"avatar",className:C,children:[(0,L.jsx)("input",{id:"avatar",disabled:H,className:"visually-hidden",type:"file",onChange:async e=>{const s=e.target.files[0];if(s){const e=new FormData;e.append("avatar",s),O(!0);try{const{data:s}=await(0,_.n1)(e);B((e=>({...e,avatar:s.avatar}))),n((0,u.J3)(s.avatar))}catch(a){(0,m.x)(a.response.data)}finally{O(!1)}}}}),(0,L.jsx)("svg",{className:Z,children:(0,L.jsx)("use",{href:"".concat(N.Z,"#icon-plus")})})]})]}),q&&(0,L.jsx)("span",{className:k}),(0,L.jsx)("p",{className:R,children:o?null===a||void 0===a?void 0:a.name:G}),(0,L.jsxs)("ul",{className:S,children:[(0,L.jsxs)("li",{className:T,children:[(0,L.jsx)("span",{className:F,children:"Email:"}),(0,L.jsx)("span",{className:P,children:o?null===a||void 0===a?void 0:a.email:K})]}),(0,L.jsxs)("li",{className:T,children:[(0,L.jsx)("span",{className:F,children:"Added recipes:"}),(0,L.jsx)("span",{className:P,children:!q&&(o?null===a||void 0===a?void 0:a.recipes:W)})]}),o&&(0,L.jsxs)("li",{className:T,children:[(0,L.jsx)("span",{className:F,children:"Favorites:"}),(0,L.jsx)("span",{className:P,children:!q&&(null===a||void 0===a?void 0:a.favorites)})]}),(0,L.jsxs)("li",{className:T,children:[(0,L.jsx)("span",{className:F,children:"Followers:"}),(0,L.jsx)("span",{className:P,children:!q&&(o?null===a||void 0===a?void 0:a.followers:X)})]}),o&&(0,L.jsxs)("li",{className:T,children:[(0,L.jsx)("span",{className:F,children:"Following:"}),(0,L.jsx)("span",{className:P,children:!q&&(null===a||void 0===a||null===(e=a.following)||void 0===e?void 0:e.length)})]})]})]}),o&&(0,L.jsx)(g.Z,{type:"button",onClick:()=>M(!0),"aria-label":"Log out","aria-haspopup":"dialog","aria-expanded":E,children:"Log out"}),!o&&(null!==s&&void 0!==s&&s.includes(r)?(0,L.jsx)(g.Z,{type:"button",onClick:()=>(async e=>{A(!0);try{const{data:s}=await(0,f.ER)(e);B((e=>({...e,followers:e.followers-1}))),n((0,u.g8)(s.following))}catch(s){(0,m.x)(s.response.data)}finally{A(!1),i("followers")}})(r),disabled:V,children:"Following"}):(0,L.jsx)(g.Z,{type:"button",onClick:()=>(async e=>{A(!0);try{const{data:s}=await(0,f.Am)(e);B((e=>({...e,followers:e.followers+1}))),n((0,u.g8)(s.following))}catch(s){(0,m.x)(s.response.data)}finally{A(!1),i("followers")}})(r),disabled:V,children:"Follow"})),(0,L.jsx)(v.Z,{showModal:E,onClose:()=>M(!1),children:(0,L.jsx)(x.Z,{onClose:()=>M(!1)})})]})};var E=a(1087),M=a(6033);const q="TabsList_tabs_wrapper__29yMQ",D="TabsList_tabs_list__03iky",H="TabsList_tab__5plTK",O={current:[{name:"My recipes",path:"recipes"},{name:"My favorites",path:"favorites"},{name:"Followers",path:"followers"},{name:"Following",path:"following"}],other:[{name:"Recipes",path:"recipes"},{name:"Followers",path:"followers"}]},V=()=>{const{id:e}=(0,d.v9)(p.dy),{id:s}=(0,l.UO)(),a=(0,l.TH)(),i=(0,n.kf)(),r=(0,n.Pv)(),[o,c]=(0,t.useState)(null),[u,h]=(0,t.useState)(0),[_,f]=(0,t.useState)(0),[m,v]=(0,t.useState)(0),x=(0,t.useRef)(null),g=(0,t.useRef)(null),j=(0,t.useRef)(null),w=e===s?"current":"other";return(0,t.useLayoutEffect)((()=>{c(a.pathname.split("/").slice(-1)[0])}),[a.pathname]),(0,t.useLayoutEffect)((()=>{x.current&&g.current&&j.current&&((()=>{const e=j.current,s=e.getBoundingClientRect(),a=g.current.getBoundingClientRect();h(e.offsetWidth),f(s.left-a.left),v(a.width)})(),i&&(0,M.II)(x.current,j.current))}),[o,i,r]),(0,L.jsx)("div",{ref:x,className:q,style:{"--var-active-width":"".concat(u,"px"),"--var-active-left":"".concat(_,"px"),"--var-tabs-width":"".concat(m,"px")},children:(0,L.jsx)("ul",{className:D,ref:g,children:O[w].map(((e,s)=>{let{name:a,path:t}=e;return(0,L.jsx)("li",{children:(0,L.jsx)(E.OL,{to:t,ref:o===t?j:null,className:H,children:a})},s)}))})})};var A=a(6215);const K=()=>{const e=(0,n.eW)();return(0,L.jsxs)(i.Z,{tag:"section",page:"profile",children:[(0,L.jsxs)("div",{className:"section",children:[(0,L.jsx)(r.Z,{current:"Profile"}),(0,L.jsxs)("div",{children:[(0,L.jsx)(o.Z,{children:"Profile"}),(0,L.jsx)(c.Z,{children:"Reveal your culinary art, share your favorite recipe and create gastronomic masterpieces with us."})]}),!e&&(0,L.jsx)(B,{})]}),(0,L.jsxs)("div",{className:"section_row",children:[e&&(0,L.jsx)(B,{}),(0,L.jsxs)("div",{className:"section",children:[(0,L.jsx)(V,{}),(0,L.jsx)(t.Suspense,{fallback:(0,L.jsx)(A.Z,{}),children:(0,L.jsx)(l.j3,{})})]})]})]})}},6809:(e,s,a)=>{a.d(s,{$7:()=>l,Am:()=>r,ER:()=>o,ET:()=>n,W6:()=>i});var t=a(9503);const l=function(){let{page:e,limit:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.hi.get("/api/users/following",{params:{page:e,limit:s}})},n=function(e){let{page:s,limit:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.hi.get("/api/users/followers/".concat(e),{params:{page:s,limit:a}})},i=function(){let{page:e,limit:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.hi.get("/api/users/followers",{params:{page:e,limit:s}})},r=e=>t.hi.patch("/api/users/addFollowing/".concat(e)),o=e=>t.hi.patch("/api/users/removeFollowing/".concat(e))}}]);
//# sourceMappingURL=177.59a226d8.chunk.js.map