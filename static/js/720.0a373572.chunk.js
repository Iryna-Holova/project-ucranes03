"use strict";(self.webpackChunkproject_ucranes03=self.webpackChunkproject_ucranes03||[]).push([[720],{1746:function(e,n,t){t.d(n,{Z:function(){return s}});var r="MainTitle_title__R5KXq",a=t(3329),s=function(e){var n=e.children;return(0,a.jsx)("h2",{className:r,children:n})}},8099:function(e,n,t){t.d(n,{Z:function(){return s}});var r={page:"PageContainer_page__uM9Tb",home:"PageContainer_home__oMp0D",recipe:"PageContainer_recipe__2uBu-",profile:"PageContainer_profile__r6XCR"},a=t(3329),s=function(e){var n=e.page,t=e.children;e.tag;return(0,a.jsx)("section",{className:"".concat(r.page," ").concat(n?r[n]:""),children:t})}},8956:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(1087),a="PathInfo_path__rwXvn",s="PathInfo_current__3TPtY",i=t(3329),c=function(e){var n=e.current;return(0,i.jsxs)("div",{className:a,children:[(0,i.jsx)(r.rU,{to:"/",children:"Home"}),(0,i.jsx)("span",{children:"/"}),(0,i.jsx)("span",{className:s,children:n})]})}},9887:function(e,n,t){t.d(n,{Z:function(){return s}});var r={text:"Subtitle_text__tBnTO",categories:"Subtitle_categories__vridf",recipes:"Subtitle_recipes__qvZt7"},a=t(3329),s=function(e){var n=e.section,t=e.children;return(0,a.jsx)("p",{className:"".concat(r.text," ").concat(n?r[n]:""),children:t})}},6033:function(e,n,t){t.d(n,{I:function(){return a},k:function(){return r}});var r=function(e){if(e){var n=e.getBoundingClientRect();n.top>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)||e.scrollIntoView({behavior:"smooth",block:"start"})}},a=function(e,n){if(e&&n){var t=e.getBoundingClientRect(),r=n.getBoundingClientRect(),a=e.scrollLeft+(r.left-t.left)-t.width/2+r.width/2;e.scrollTo({left:a,behavior:"smooth"})}}},6720:function(e,n,t){t.r(n),t.d(n,{default:function(){return z}});var r=t(2791),a=t(7689),s=t(3536),i=t(8099),c=t(8956),l=t(1746),o=t(9887),u=t(1413),f=t(5861),p=t(9439),h=t(4687),d=t.n(h),_=t(4420),v=t(4156),m=function(e){return v.hi.patch("/api/users/avatars",e,{headers:{"Content-Type":"multipart/form-data"}})},x=t(6809),j=t(8568),g=t(9227),w=t(3657),N=t(9321),b=t(7370),Z=t(411),k=t(6493),y=t(1324),C=t(3439),I="UserInfo_user_info_container__D+klU",U="UserInfo_avatar__Gdbfx",R="UserInfo_image_input_wrapper__3Dva1",T="UserInfo_file_input_label__Zh9Vz",F="UserInfo_icon_plus__rPVgp",P="UserInfo_name_items_list_wrapper__q2ow+",S="UserInfo_name__6mj8r",E="UserInfo_list_item__5vUS1",L="UserInfo_list_items__f+syP",B="UserInfo_item_name__j0iTq",M="UserInfo_item_value__Q3i9y",q=t(3329),D=function(){var e=(0,_.v9)(j.Vh),n=(0,_.I0)(),t=(0,a.UO)().id,s="current"===t,i=(0,r.useState)(null),c=(0,p.Z)(i,2),l=c[0],o=c[1],h=(0,r.useState)(!1),D=(0,p.Z)(h,2),H=D[0],O=D[1],V=(0,r.useState)(!1),A=(0,p.Z)(V,2),X=A[0],K=A[1];(0,r.useEffect)((function(){var e=function(){var e=(0,f.Z)(d().mark((function e(){var n,r,a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!s){e.next=9;break}return e.next=4,v.hi.get("/api/users/info");case 4:n=e.sent,r=n.data,o(r),e.next=14;break;case 9:return e.next=11,c=t,v.hi.get("/api/users/info/".concat(c));case 11:a=e.sent,i=a.data,o(i);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),(0,g.x)(e.t0);case 19:case"end":return e.stop()}var c}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();e()}),[s,t]);var Q=function(){var e=(0,f.Z)(d().mark((function e(t){var r,a,s,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t.target.files[0])){e.next=20;break}return(a=new FormData).append("avatar",r),K(!0),e.prev=5,e.next=8,m(a);case 8:s=e.sent,i=s.data,o((function(e){return(0,u.Z)((0,u.Z)({},e),{},{avatar:i.avatar})})),n((0,w.J3)(i.avatar)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),(0,g.x)(e.t0);case 17:return e.prev=17,K(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[5,14,17,20]])})));return function(n){return e.apply(this,arguments)}}(),W=function(){var e=(0,f.Z)(d().mark((function e(t){var r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,x.ER)(t);case 3:r=e.sent,a=r.data,n((0,w.g8)(a.following)),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}(),z=function(){var e=(0,f.Z)(d().mark((function e(t){var r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,x.Am)(t);case 3:r=e.sent,a=r.data,n((0,w.g8)(a.following)),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}(),G=l||{},J=G.email,Y=G.recipes,$=G.favorites,ee=G.followers,ne=G.following,te=G.name,re=G.avatar;return(0,q.jsxs)("div",{className:I,children:[(0,q.jsxs)("div",{className:P,children:[(0,q.jsxs)("div",{className:R,children:[(0,q.jsx)(k.Z,{publicId:re,alt:"avatar",defaultImage:y.Z,className:U}),s&&(0,q.jsxs)("label",{htmlFor:"avatar",className:T,children:[(0,q.jsx)("input",{id:"avatar",disabled:X,className:"visually-hidden",type:"file",onChange:Q}),(0,q.jsx)("svg",{className:F,children:(0,q.jsx)("use",{href:"".concat(C.Z,"#icon-plus")})})]})]}),(0,q.jsx)("p",{className:S,children:te}),(0,q.jsxs)("ul",{className:L,children:[(0,q.jsxs)("li",{className:E,children:[(0,q.jsx)("span",{className:B,children:"Email:"}),(0,q.jsx)("span",{className:M,children:J})]}),(0,q.jsxs)("li",{className:E,children:[(0,q.jsx)("span",{className:B,children:"Added recipes:"}),(0,q.jsx)("span",{className:M,children:Y})]}),s&&(0,q.jsxs)("li",{className:E,children:[(0,q.jsx)("span",{className:B,children:"Favorites:"}),(0,q.jsx)("span",{className:M,children:$})]}),(0,q.jsxs)("li",{className:E,children:[(0,q.jsx)("span",{className:B,children:"Followers:"}),(0,q.jsx)("span",{className:M,children:ee})]}),s&&(0,q.jsxs)("li",{className:E,children:[(0,q.jsx)("span",{className:B,children:"Following:"}),(0,q.jsx)("span",{className:M,children:ne})]})]})]}),s&&(0,q.jsx)(Z.Z,{type:"button",onClick:function(){return O(!0)},children:"Log out"}),!s&&(null!==e&&void 0!==e&&e.includes(t)?(0,q.jsx)(Z.Z,{type:"button",onClick:function(){return W(t)},children:"Following"}):(0,q.jsx)(Z.Z,{type:"button",onClick:function(){return z(t)},children:"Follow"})),H&&(0,q.jsx)(N.Z,{onClose:function(){return O(!1)},children:(0,q.jsx)(b.Z,{onClose:function(){return O(!1)}})})]})},H=t(1087),O=t(6033),V="TabsList_tabs_wrapper__29yMQ",A="TabsList_tabs_list__03iky",X="TabsList_tab__5plTK",K={current:[{name:"My recipes",path:"recipes"},{name:"My favorites",path:"favorites"},{name:"Followers",path:"followers"},{name:"Following",path:"following"}],other:[{name:"Recipes",path:"recipes"},{name:"Followers",path:"followers"}]},Q=function(){var e=(0,a.TH)(),n=(0,s.kf)(),t=(0,s.Pv)(),i=(0,r.useState)(null),c=(0,p.Z)(i,2),l=c[0],o=c[1],u=(0,r.useState)(0),f=(0,p.Z)(u,2),h=f[0],d=f[1],_=(0,r.useState)(0),v=(0,p.Z)(_,2),m=v[0],x=v[1],j=(0,r.useState)(0),g=(0,p.Z)(j,2),w=g[0],N=g[1],b=(0,r.useRef)(null),Z=(0,r.useRef)(null),k=(0,r.useRef)(null),y="current"===(0,a.UO)().id?"current":"other";return(0,r.useLayoutEffect)((function(){o(e.pathname.split("/").slice(-1)[0])}),[e.pathname]),(0,r.useLayoutEffect)((function(){b.current&&Z.current&&k.current&&(!function(){var e=k.current,n=e.getBoundingClientRect(),t=Z.current.getBoundingClientRect();d(e.offsetWidth),x(n.left-t.left),N(t.width)}(),n&&(0,O.I)(b.current,k.current))}),[l,n,t]),(0,q.jsx)("div",{ref:b,className:V,style:{"--var-active-width":"".concat(h,"px"),"--var-active-left":"".concat(m,"px"),"--var-tabs-width":"".concat(w,"px")},children:(0,q.jsx)("ul",{className:A,ref:Z,children:K[y].map((function(e,n){var t=e.name,r=e.path;return(0,q.jsx)("li",{children:(0,q.jsx)(H.OL,{to:r,ref:l===r?k:null,className:X,children:t})},n)}))})})},W=t(6215),z=function(){var e=(0,s.eW)();return(0,q.jsxs)(i.Z,{tag:"section",page:"profile",children:[(0,q.jsxs)("div",{className:"section",children:[(0,q.jsx)(c.Z,{current:"Profile"}),(0,q.jsxs)("div",{children:[(0,q.jsx)(l.Z,{children:"Profile"}),(0,q.jsx)(o.Z,{children:"Reveal your culinary art, share your favorite recipe and create gastronomic masterpieces with us."})]}),!e&&(0,q.jsx)(D,{})]}),(0,q.jsxs)("div",{className:"section_row",children:[e&&(0,q.jsx)(D,{}),(0,q.jsxs)("div",{className:"section",children:[(0,q.jsx)(Q,{}),(0,q.jsx)(r.Suspense,{fallback:(0,q.jsx)(W.Z,{}),children:(0,q.jsx)(a.j3,{})})]})]})]})}},6809:function(e,n,t){t.d(n,{$7:function(){return a},Am:function(){return i},ER:function(){return s},ET:function(){return c}});var r=t(4156),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.page,t=e.limit;return r.hi.get("/api/users/following",{params:{page:n,limit:t}})},s=function(e){return r.hi.patch("/api/users/removeFollowing/".concat(e))},i=function(e){return r.hi.patch("/api/users/addFollowing/".concat(e))},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.page,t=e.limit;return r.hi.get("/api/users/followers",{params:{page:n,limit:t}})}}}]);
//# sourceMappingURL=720.0a373572.chunk.js.map