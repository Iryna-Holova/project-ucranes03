"use strict";(self.webpackChunkproject_ucranes03=self.webpackChunkproject_ucranes03||[]).push([[177],{1746:function(e,n,t){t.d(n,{Z:function(){return s}});var r="MainTitle_title__R5KXq",a=t(3329),s=function(e){var n=e.children;return(0,a.jsx)("h2",{className:r,children:n})}},8099:function(e,n,t){t.d(n,{Z:function(){return s}});var r={page:"PageContainer_page__uM9Tb",home:"PageContainer_home__oMp0D",recipe:"PageContainer_recipe__2uBu-",profile:"PageContainer_profile__r6XCR"},a=t(3329),s=function(e){var n=e.page,t=e.children,s=e.tag;return"section"===(void 0===s?"div":s)?(0,a.jsx)("section",{className:"".concat(r.page," ").concat(n?r[n]:""),children:t}):(0,a.jsx)("div",{className:"".concat(r.page," ").concat(n?r[n]:""),children:t})}},8956:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(1087),a="PathInfo_path__rwXvn",s="PathInfo_current__3TPtY",i=t(3329),c=function(e){var n=e.current;return(0,i.jsxs)("div",{className:a,children:[(0,i.jsx)(r.rU,{to:"/",children:"Home"}),(0,i.jsx)("span",{children:"/"}),(0,i.jsx)("span",{className:s,children:n})]})}},9887:function(e,n,t){t.d(n,{Z:function(){return s}});var r={text:"Subtitle_text__tBnTO",categories:"Subtitle_categories__vridf",recipes:"Subtitle_recipes__qvZt7"},a=t(3329),s=function(e){var n=e.section,t=e.children;return(0,a.jsx)("p",{className:"".concat(r.text," ").concat(n?r[n]:""),children:t})}},6033:function(e,n,t){t.d(n,{I:function(){return a},k:function(){return r}});var r=function(e){if(e){var n=e.getBoundingClientRect();n.top>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)||e.scrollIntoView({behavior:"smooth",block:"start"})}},a=function(e,n){if(e&&n){var t=e.getBoundingClientRect(),r=n.getBoundingClientRect(),a=e.scrollLeft+(r.left-t.left)-t.width/2+r.width/2;e.scrollTo({left:a,behavior:"smooth"})}}},9177:function(e,n,t){t.r(n),t.d(n,{default:function(){return z}});var r=t(2791),a=t(7689),s=t(3536),i=t(8099),c=t(8956),l=t(1746),o=t(9887),u=t(1413),f=t(5861),d=t(9439),p=t(4687),h=t.n(p),v=t(4420),_=t(3657),m=t(7820),x=t(8568),j=t(9447),g=t(6809),w=t(9227),Z=t(1175),b=t(7370),N=t(411),k=t(8417),y=t(1324),I=t(3439),C="UserInfo_user_info_container__D+klU",U="UserInfo_avatar__Gdbfx",R="UserInfo_image_input_wrapper__3Dva1",S="UserInfo_file_input_label__Zh9Vz",F="UserInfo_icon_plus__rPVgp",P="UserInfo_name_items_list_wrapper__q2ow+",T="UserInfo_name__6mj8r",L="UserInfo_loader__tokeK",E="UserInfo_list_items__f+syP",B="UserInfo_list_item__5vUS1",M="UserInfo_item_name__j0iTq",q="UserInfo_item_value__Q3i9y",D=t(3329),H=function(){var e,n=(0,v.v9)(x.Vh),t=(0,v.v9)(x.dy),s=(0,v.I0)(),i=(0,a.UO)().id,c="current"===i,l=(0,r.useState)(null),o=(0,d.Z)(l,2),p=o[0],H=o[1],O=(0,r.useState)(!1),V=(0,d.Z)(O,2),A=V[0],K=V[1],W=(0,r.useState)(!1),X=(0,d.Z)(W,2),G=X[0],Q=X[1],z=(0,r.useState)(!1),J=(0,d.Z)(z,2),Y=J[0],$=J[1],ee=(0,r.useState)(!1),ne=(0,d.Z)(ee,2),te=ne[0],re=ne[1];(0,r.useEffect)((function(){var e=function(){var e=(0,f.Z)(h().mark((function e(){var n,t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H(null),Q(!0),e.prev=2,!c){e.next=8;break}return e.next=6,s((0,m.bG)()).unwrap();case 6:e.next=13;break;case 8:return e.next=10,(0,j.C5)(i);case 10:n=e.sent,t=n.data,H(t);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),(0,w.x)(e.t0);case 18:return e.prev=18,Q(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[2,15,18,21]])})));return function(){return e.apply(this,arguments)}}();e()}),[s,c,i]);var ae=function(){var e=(0,f.Z)(h().mark((function e(n){var t,r,a,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=n.target.files[0])){e.next=20;break}return(r=new FormData).append("avatar",t),$(!0),e.prev=5,e.next=8,(0,j.n1)(r);case 8:a=e.sent,i=a.data,H((function(e){return(0,u.Z)((0,u.Z)({},e),{},{avatar:i.avatar})})),s((0,_.J3)(i.avatar)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),(0,w.x)(e.t0);case 17:return e.prev=17,$(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[5,14,17,20]])})));return function(n){return e.apply(this,arguments)}}(),se=function(){var e=(0,f.Z)(h().mark((function e(n){var t,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return re(!0),e.prev=1,e.next=4,(0,g.ER)(n);case 4:t=e.sent,r=t.data,H((function(e){return(0,u.Z)((0,u.Z)({},e),{},{followers:e.followers-1})})),s((0,_.g8)(r.following)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),(0,w.x)(e.t0);case 13:return e.prev=13,re(!1),window.location.reload(),e.finish(13);case 17:case"end":return e.stop()}}),e,null,[[1,10,13,17]])})));return function(n){return e.apply(this,arguments)}}(),ie=function(){var e=(0,f.Z)(h().mark((function e(n){var t,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return re(!0),e.prev=1,e.next=4,(0,g.Am)(n);case 4:t=e.sent,r=t.data,H((function(e){return(0,u.Z)((0,u.Z)({},e),{},{followers:e.followers+1})})),s((0,_.g8)(r.following)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),(0,w.x)(e.t0);case 13:return e.prev=13,re(!1),window.location.reload(),e.finish(13);case 17:case"end":return e.stop()}}),e,null,[[1,10,13,17]])})));return function(n){return e.apply(this,arguments)}}(),ce=p||{},le=ce.email,oe=ce.recipes,ue=ce.followers,fe=ce.name,de=ce.avatar;return(0,D.jsxs)("div",{className:C,children:[(0,D.jsxs)("div",{className:P,children:[(0,D.jsxs)("div",{className:R,children:[(0,D.jsx)(k.Z,{publicId:c?t.avatar:de,alt:"avatar",defaultImage:y.Z,className:U}),c&&(0,D.jsxs)("label",{htmlFor:"avatar",className:S,children:[(0,D.jsx)("input",{id:"avatar",disabled:Y,className:"visually-hidden",type:"file",onChange:ae}),(0,D.jsx)("svg",{className:F,children:(0,D.jsx)("use",{href:"".concat(I.Z,"#icon-plus")})})]})]}),G&&(0,D.jsx)("span",{className:L}),(0,D.jsx)("p",{className:T,children:c?null===t||void 0===t?void 0:t.name:fe}),(0,D.jsxs)("ul",{className:E,children:[(0,D.jsxs)("li",{className:B,children:[(0,D.jsx)("span",{className:M,children:"Email:"}),(0,D.jsx)("span",{className:q,children:c?null===t||void 0===t?void 0:t.email:le})]}),(0,D.jsxs)("li",{className:B,children:[(0,D.jsx)("span",{className:M,children:"Added recipes:"}),(0,D.jsx)("span",{className:q,children:!G&&(c?null===t||void 0===t?void 0:t.recipes:oe)})]}),c&&(0,D.jsxs)("li",{className:B,children:[(0,D.jsx)("span",{className:M,children:"Favorites:"}),(0,D.jsx)("span",{className:q,children:!G&&(null===t||void 0===t?void 0:t.favorites)})]}),(0,D.jsxs)("li",{className:B,children:[(0,D.jsx)("span",{className:M,children:"Followers:"}),(0,D.jsx)("span",{className:q,children:!G&&(c?null===t||void 0===t?void 0:t.followers:ue)})]}),c&&(0,D.jsxs)("li",{className:B,children:[(0,D.jsx)("span",{className:M,children:"Following:"}),(0,D.jsx)("span",{className:q,children:!G&&(null===t||void 0===t||null===(e=t.following)||void 0===e?void 0:e.length)})]})]})]}),c&&(0,D.jsx)(N.Z,{type:"button",onClick:function(){return K(!0)},"aria-label":"Log out","aria-haspopup":"dialog","aria-expanded":A,children:"Log out"}),!c&&(null!==n&&void 0!==n&&n.includes(i)?(0,D.jsx)(N.Z,{type:"button",onClick:function(){return se(i)},disabled:te,children:"Following"}):(0,D.jsx)(N.Z,{type:"button",onClick:function(){return ie(i)},disabled:te,children:"Follow"})),(0,D.jsx)(Z.Z,{showModal:A,onClose:function(){return K(!1)},children:(0,D.jsx)(b.Z,{onClose:function(){return K(!1)}})})]})},O=t(1087),V=t(6033),A="TabsList_tabs_wrapper__29yMQ",K="TabsList_tabs_list__03iky",W="TabsList_tab__5plTK",X={current:[{name:"My recipes",path:"recipes"},{name:"My favorites",path:"favorites"},{name:"Followers",path:"followers"},{name:"Following",path:"following"}],other:[{name:"Recipes",path:"recipes"},{name:"Followers",path:"followers"}]},G=function(){var e=(0,a.TH)(),n=(0,s.kf)(),t=(0,s.Pv)(),i=(0,r.useState)(null),c=(0,d.Z)(i,2),l=c[0],o=c[1],u=(0,r.useState)(0),f=(0,d.Z)(u,2),p=f[0],h=f[1],v=(0,r.useState)(0),_=(0,d.Z)(v,2),m=_[0],x=_[1],j=(0,r.useState)(0),g=(0,d.Z)(j,2),w=g[0],Z=g[1],b=(0,r.useRef)(null),N=(0,r.useRef)(null),k=(0,r.useRef)(null),y="current"===(0,a.UO)().id?"current":"other";return(0,r.useLayoutEffect)((function(){o(e.pathname.split("/").slice(-1)[0])}),[e.pathname]),(0,r.useLayoutEffect)((function(){b.current&&N.current&&k.current&&(!function(){var e=k.current,n=e.getBoundingClientRect(),t=N.current.getBoundingClientRect();h(e.offsetWidth),x(n.left-t.left),Z(t.width)}(),n&&(0,V.I)(b.current,k.current))}),[l,n,t]),(0,D.jsx)("div",{ref:b,className:A,style:{"--var-active-width":"".concat(p,"px"),"--var-active-left":"".concat(m,"px"),"--var-tabs-width":"".concat(w,"px")},children:(0,D.jsx)("ul",{className:K,ref:N,children:X[y].map((function(e,n){var t=e.name,r=e.path;return(0,D.jsx)("li",{children:(0,D.jsx)(O.OL,{to:r,ref:l===r?k:null,className:W,children:t})},n)}))})})},Q=t(6215),z=function(){var e=(0,s.eW)();return(0,D.jsxs)(i.Z,{tag:"section",page:"profile",children:[(0,D.jsxs)("div",{className:"section",children:[(0,D.jsx)(c.Z,{current:"Profile"}),(0,D.jsxs)("div",{children:[(0,D.jsx)(l.Z,{children:"Profile"}),(0,D.jsx)(o.Z,{children:"Reveal your culinary art, share your favorite recipe and create gastronomic masterpieces with us."})]}),!e&&(0,D.jsx)(H,{})]}),(0,D.jsxs)("div",{className:"section_row",children:[e&&(0,D.jsx)(H,{}),(0,D.jsxs)("div",{className:"section",children:[(0,D.jsx)(G,{}),(0,D.jsx)(r.Suspense,{fallback:(0,D.jsx)(Q.Z,{}),children:(0,D.jsx)(a.j3,{})})]})]})]})}},6809:function(e,n,t){t.d(n,{$7:function(){return a},Am:function(){return i},ER:function(){return s},ET:function(){return c},W6:function(){return l}});var r=t(4156),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.page,t=e.limit;return r.hi.get("/api/users/following",{params:{page:n,limit:t}})},s=function(e){return r.hi.patch("/api/users/removeFollowing/".concat(e))},i=function(e){return r.hi.patch("/api/users/addFollowing/".concat(e))},c=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.page,a=n.limit;return r.hi.get("/api/users/followers/".concat(e),{params:{page:t,limit:a}})},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.page,t=e.limit;return r.hi.get("/api/users/followers",{params:{page:n,limit:t}})}}}]);
//# sourceMappingURL=177.c0a3fb01.chunk.js.map