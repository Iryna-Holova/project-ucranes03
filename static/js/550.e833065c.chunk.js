"use strict";(self.webpackChunkproject_ucranes03=self.webpackChunkproject_ucranes03||[]).push([[550],{6618:function(e,n,r){r.d(n,{Z:function(){return p}});var t=r(9439),i=r(2791),a="Ingredients_ingredient_container__gr-3U",o="Ingredients_img_wrapper__z8MRG",c="Ingredients_name_style__3XTrH",s="Ingredients_measure_style__tz9RC",l="Ingredients_btn__YgUSW",u=r(3439),d=r(5265),_=r(3329),p=function(e){var n=e.img,r=e.name,p=e.measure,m=e._id,h=e.callback,f=void 0===h?null:h,g=(0,i.useState)(n),x=(0,t.Z)(g,2),b=x[0],v=x[1];return(0,_.jsxs)("li",{className:a,children:[(0,_.jsx)("img",{src:b,alt:r,className:o,onError:function(){v(d.Z)}}),(0,_.jsxs)("div",{children:[(0,_.jsx)("p",{className:c,children:r}),(0,_.jsx)("p",{className:s,children:p})]}),f&&(0,_.jsx)("button",{className:l,onClick:function(){return f(m)},children:(0,_.jsx)("svg",{height:16,width:16,children:(0,_.jsx)("use",{href:"".concat(u.Z,"#icon-close")})})})]})}},1746:function(e,n,r){r.d(n,{Z:function(){return a}});var t="MainTitle_title__R5KXq",i=r(3329),a=function(e){var n=e.children;return(0,i.jsx)("h2",{className:t,children:n})}},8099:function(e,n,r){r.d(n,{Z:function(){return a}});var t={page:"PageContainer_page__uM9Tb",home:"PageContainer_home__oMp0D",recipe:"PageContainer_recipe__2uBu-",profile:"PageContainer_profile__r6XCR"},i=r(3329),a=function(e){var n=e.page,r=e.children,a=e.tag;return"section"===(void 0===a?"div":a)?(0,i.jsx)("section",{className:"".concat(t.page," ").concat(n?t[n]:""),children:r}):(0,i.jsx)("div",{className:"".concat(t.page," ").concat(n?t[n]:""),children:r})}},8956:function(e,n,r){r.d(n,{Z:function(){return c}});var t=r(1087),i="PathInfo_path__rwXvn",a="PathInfo_current__3TPtY",o=r(3329),c=function(e){var n=e.current;return(0,o.jsxs)("div",{className:i,children:[(0,o.jsx)(t.rU,{to:"/",children:"Home"}),(0,o.jsx)("span",{children:"/"}),(0,o.jsx)("span",{className:a,children:n})]})}},2456:function(e,n,r){r.d(n,{X:function(){return i}});var t=r(1413),i={control:function(e){return(0,t.Z)((0,t.Z)({},e),{},{borderRadius:"30px",border:"1px solid var(--color-main-20, rgba(5, 5, 5, 0.20))",fontFamily:"Mulish",fontSize:"16px",fontStyle:"normal",fontWeight:500,lineHeight:"24px",letterSpacing:"-0.02em",color:"var(--color-main, #050505)",boxShadow:"none",padding:"16px 18px",backgroundColor:"var(--color-bg)","&:hover":{borderColor:"var(--color-main-60, rgba(5, 5, 5, 0.60))"},cursor:"pointer"})},valueContainer:function(e){return(0,t.Z)((0,t.Z)({},e),{},{padding:0,margin:0})},input:function(e){return(0,t.Z)((0,t.Z)({},e),{},{padding:0,margin:0})},singleValue:function(e){return(0,t.Z)((0,t.Z)({},e),{},{color:"var(--color-main, #050505)",margin:"0",padding:"0"})},multiValue:function(e){return(0,t.Z)((0,t.Z)({},e),{},{backgroundColor:"transparent",color:"var(--color-main, #050505)",padding:"0",margin:"0"})},multiValueLabel:function(e){return(0,t.Z)((0,t.Z)({},e),{},{color:"var(--color-main, #050505)",fontFamily:"Mulish",fontSize:"16px",fontStyle:"normal",fontWeight:500,lineHeight:"24px",letterSpacing:"-0.02em",padding:"0",margin:"0"})},placeholder:function(e){return(0,t.Z)((0,t.Z)({},e),{},{color:"var(--color-main-60, rgba(5, 5, 5, 0.60))",fontFamily:"Mulish",fontSize:"16px",fontStyle:"normal",fontWeight:500,lineHeight:"24px",letterSpacing:"-0.02em"})},indicatorSeparator:function(){return{display:"none"}},dropdownIndicator:function(e,n){return(0,t.Z)((0,t.Z)({},e),{},{transition:"var(--transition)",transform:n.selectProps.menuIsOpen?"rotate(180deg)":"rotate(0deg)",color:"var(--color-main, #050505)",padding:4,"&:hover":{color:"var(--color-main, #050505)"}})},clearIndicator:function(e){return(0,t.Z)((0,t.Z)({},e),{},{padding:4,color:"var(--color-main, #050505)","&:hover":{color:"var(--color-main, #050505)"}})},menu:function(e){return(0,t.Z)((0,t.Z)({},e),{},{backgroundColor:"var(--color-bg)",borderRadius:"15px",border:"1px solid var(--color-main-20, rgba(5, 5, 5, 0.20))",padding:"16px 0"})},menuList:function(e){return(0,t.Z)((0,t.Z)({},e),{},{"::-webkit-scrollbar":{width:"5px"},"::-webkit-scrollbar-track":{background:"transparent"},"::-webkit-scrollbar-thumb":{borderRadius:"3px",background:"var(--color-main-80)"},"::-webkit-scrollbar-thumb:hover":{background:"var(--color-main)"},padding:"0 9px 0 14px"})},option:function(e,n){return(0,t.Z)((0,t.Z)({},e),{},{fontFamily:"Mulish",fontSize:"16px",fontStyle:"normal",fontWeight:500,lineHeight:"24px",letterSpacing:"-0.02em",color:"var(--color-main, #050505)",borderRadius:"4px",padding:"0 4px",margin:"0",backgroundColor:n.isSelected?"var(--color-main-20)":n.isFocused?"var(--color-main-10)":null,"&:active":{backgroundColor:"var(--color-main-20)"},"&:selected":{backgroundColor:"var(--color-main-10)"}})}}},9887:function(e,n,r){r.d(n,{Z:function(){return a}});var t={text:"Subtitle_text__tBnTO",categories:"Subtitle_categories__vridf",recipes:"Subtitle_recipes__qvZt7"},i=r(3329),a=function(e){var n=e.section,r=e.children;return(0,i.jsx)("p",{className:"".concat(t.text," ").concat(n?t[n]:""),children:r})}},2550:function(e,n,r){r.r(n),r.d(n,{default:function(){return E}});var t=r(8956),i=r(1746),a=r(9887),o=r(1413),c=r(3433),s=r(5861),l=r(9439),u=r(4687),d=r.n(u),_=r(411),p=r(3439),m={error:"AddRecipeForm_error__ksgDg",input:"AddRecipeForm_input__otdzf",btn_another_photo:"AddRecipeForm_btn_another_photo__q-WYY",title_form:"AddRecipeForm_title_form__Q+N-l",text_form:"AddRecipeForm_text_form__-TJrY",input_file:"AddRecipeForm_input_file__PPysC",label_photo_icon:"AddRecipeForm_label_photo_icon__xvX0w",icon_camera:"AddRecipeForm_icon_camera__YhABU",box_form:"AddRecipeForm_box_form__nPD0F",box_file:"AddRecipeForm_box_file__iSWAC",photo_file:"AddRecipeForm_photo_file__ZofAL",box_time_categories:"AddRecipeForm_box_time_categories__W7reZ",box_input_name:"AddRecipeForm_box_input_name__RHasj",input_quantity:"AddRecipeForm_input_quantity__KYRDg",list_ingredients:"AddRecipeForm_list_ingredients__2Eu0R",input_name:"AddRecipeForm_input_name__r3WgH",input_description:"AddRecipeForm_input_description__w8CvM",box_select_cat:"AddRecipeForm_box_select_cat__HY6Bf",line_under_input:"AddRecipeForm_line_under_input__y+bX3",text_length:"AddRecipeForm_text_length__HlP0j",box_description:"AddRecipeForm_box_description__GxhAK",title_description:"AddRecipeForm_title_description__DjEhT",box_time_btn:"AddRecipeForm_box_time_btn__UXePS",counter_time:"AddRecipeForm_counter_time__TJCCE",box_name_cate_ingr:"AddRecipeForm_box_name_cate_ingr__TDAnY",box_btn_del_pub:"AddRecipeForm_box_btn_del_pub__thKbD",box_area:"AddRecipeForm_box_area__r9n+O",btn_time:"AddRecipeForm_btn_time__FWlJ8",icon_time:"AddRecipeForm_icon_time__kgJvK",box_preparation:"AddRecipeForm_box_preparation__8MDEW",input_preparation:"AddRecipeForm_input_preparation__0okga",btn_delete:"AddRecipeForm_btn_delete__38hBi",delete_btn:"AddRecipeForm_delete_btn__rx85M",input_error:"AddRecipeForm_input_error__m1JAV",error_message:"AddRecipeForm_error_message__1kBQ4",error_file:"AddRecipeForm_error_file__-Xpiu",input_wrapper:"AddRecipeForm_input_wrapper__O4Xea",boxIngredQuan:"AddRecipeForm_boxIngredQuan__E+YLi",box_ingredients:"AddRecipeForm_box_ingredients__6pYch",box_input_ingredients:"AddRecipeForm_box_input_ingredients__5suJw",box_input_quantity:"AddRecipeForm_box_input_quantity__m6T6c",boxInputsForm:"AddRecipeForm_boxInputsForm__+-HPg"},h=r(1134),f=r(2791),g=r(5756),x=r(4420),b=r(7878),v=r(5787),j=r(1961),Z=r(6618),R=r(9985),N=r(9227),y=r(7689),A=r(5781),F=r(2456),q=r(4660),C=r(5954),k=r(8007),P=r(4695),w=k.Ry().shape({thumb:k.nK().required("Photo is required").test("fileType","Unsupported File Format",(function(e){var n;return e&&"image"===(null===(n=e[0])||void 0===n?void 0:n.type.split("/")[0])})),title:k.Z_().required("Title is required").min(3,"Title must have at least 3 symbols").max(30),description:k.Z_().required("Description is required").max(200,"Description should not exceed 200 characters"),category:k.Ry().shape({value:k.Z_().required("Category is required")}).required("Category is required"),area:k.Ry().shape({value:k.Z_().required("Area is required")}).required("Area is required"),ingredientsList:k.IX().of(k.Ry().shape({id:k.Z_().required("Ingredient is required"),measure:k.Z_().required("Measure is required")})).min(1,"At least one ingredient is required"),instructions:k.Z_().required("Instructions are required").max(2500,"Instructions should not exceed 2500 characters"),time:k.Rx().required("Time is required").min(1,"Time should be at least 1 minute")}),S=(0,P.X)(w),I=r(3329),T=function(){var e=(0,f.useState)(null),n=(0,l.Z)(e,2),r=n[0],t=n[1],i=(0,f.useState)([]),a=(0,l.Z)(i,2),u=a[0],k=a[1],P=(0,f.useState)(0),w=(0,l.Z)(P,2),T=w[0],X=w[1],E=(0,x.v9)(b.i3),D=(0,x.v9)(v.i9),M=(0,x.v9)(j.AP),U=(0,x.v9)(v.jq),H=(0,f.useState)([]),W=(0,l.Z)(H,2),Y=W[0],z=W[1],L=(0,y.s0)(),Q=(0,x.I0)();(0,f.useEffect)((function(){E.length||Q((0,A.p)())}),[E.length,Q]),(0,f.useEffect)((function(){D.length||Q((0,q.D)())}),[Q,D.length]),(0,f.useEffect)((function(){M.length||Q((0,C.s)())}),[Q,M.length]);var V=(0,h.cI)({resolver:S,defaultValues:{time:0}}),K=V.register,O=V.handleSubmit,B=V.control,J=V.formState.errors,G=V.setValue,$=V.getValues,ee=V.reset,ne=V.trigger,re=V.clearErrors,te=function(){var e=(0,s.Z)(d().mark((function e(n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==u.length){e.next=3;break}return alert("Please add at least one ingredient"),e.abrupt("return");case 3:return n.ingredients=u,n.category=n.category.value,n.area=n.area.value,delete n.measure,(r=new FormData).append("title",n.title),r.append("description",n.description),r.append("category",n.category),r.append("area",n.area),r.append("instructions",n.instructions),r.append("thumb",n.thumb[0]),r.append("time",n.time),u.forEach((function(e,n){r.append("ingredients[".concat(n,"][id]"),e.id),r.append("ingredients[".concat(n,"][measure]"),e.measure)})),e.prev=16,e.next=19,(0,R.XD)(r);case 19:L("/user/current"),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(16),(0,N.x)(e.t0);case 25:case"end":return e.stop()}}),e,null,[[16,22]])})));return function(n){return e.apply(this,arguments)}}(),ie=function(e){k((function(n){return n.filter((function(n){return n.id!==e}))})),z((function(n){return n.filter((function(n){return n._id!==e}))}))},ae=function(e){var n=e.target.files[0];if("image"!==n.type.split("/")[0])return(0,N.x)(new Error("Unsupported file format")),void(e.target.value="");t(URL.createObjectURL(n))},oe=function(){var e=(0,s.Z)(d().mark((function e(){var n,r,t,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=$("ingredients"),r=$("measure"),!n||!r){e.next=12;break}return k((function(e){return[].concat((0,c.Z)(e),[{id:n.value,measure:r}])})),(t=U.find((function(e){return e._id===n.value})))&&(i=(0,o.Z)((0,o.Z)({},t),{},{measure:r}),z((function(e){return[].concat((0,c.Z)(e),[i])}))),G("measure",""),G("ingredients",null),e.next=10,ne("ingredientsList");case 10:e.next=13;break;case 12:alert("Please select an ingredient and enter a measure");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,I.jsx)("form",{noValidate:!0,onSubmit:O(te),children:(0,I.jsxs)("div",{className:m.box_form,children:[(0,I.jsxs)("div",{className:"".concat(m.box_file," ").concat(J.thumb&&m.input_error),children:[r?(0,I.jsxs)("label",{className:m.btn_another_photo,children:["Upload another photo",(0,I.jsx)("input",(0,o.Z)((0,o.Z)({className:m.input_file},K("thumb",{onChange:ae})),{},{type:"file"}))]}):(0,I.jsxs)("label",{className:m.label_photo_icon,children:[(0,I.jsx)("svg",{className:m.icon_camera,children:(0,I.jsx)("use",{href:"".concat(p.Z,"#icon-camera")})}),(0,I.jsx)("span",{className:m.text_photo_add,children:"Upload a photo"}),(0,I.jsx)("input",(0,o.Z)((0,o.Z)({className:m.input_file},K("thumb",{onChange:ae})),{},{type:"file"}))]}),r&&(0,I.jsx)("img",{className:m.photo_file,src:r,alt:"Preview"}),J.thumb&&(0,I.jsx)("span",{className:m.error_file,children:J.thumb.message})]}),(0,I.jsxs)("div",{className:m.boxInputsForm,children:[(0,I.jsxs)("div",{className:m.box_name_cate_ingr,children:[(0,I.jsxs)("div",{className:m.box_input_name,children:[(0,I.jsxs)("div",{className:m.input_wrapper,children:[J.title&&(0,I.jsx)("span",{className:m.error,children:J.title.message}),(0,I.jsx)("input",(0,o.Z)({name:"title",placeholder:"The name of the recipe",className:"".concat(m.input_name),type:"text"},K("title")))]}),(0,I.jsxs)("div",{className:m.box_description,children:[J.description&&(0,I.jsx)("span",{className:m.error,children:J.description.message}),(0,I.jsx)("textarea",(0,o.Z)((0,o.Z)({name:"description",maxLength:200,className:"".concat(m.input_description)},K("description",{onChange:function(e){var n=e.target.value;X(n.length)}})),{},{placeholder:"Enter a description of the dish",type:"text"})),(0,I.jsx)("span",{className:m.text_length,children:"".concat(T,"/200")})]})]}),(0,I.jsxs)("div",{className:m.box_time_categories,children:[(0,I.jsxs)("div",{className:m.box_select_cat,children:[(0,I.jsx)("label",{className:m.title_description,children:"Category"}),(0,I.jsx)(h.Qr,{name:"category",control:B,render:function(e){var n=e.field;return(0,I.jsx)(g.ZP,(0,o.Z)((0,o.Z)({isClearable:!0,placeholder:"Select a category",styles:F.X},n),{},{options:E}))}})]}),(0,I.jsxs)("div",{children:[(0,I.jsx)("label",{className:m.title_description,children:"COOKING TIME"}),(0,I.jsxs)("div",{className:m.box_time_btn,children:[(0,I.jsx)("button",{className:m.btn_time,onClick:function(){var e=$("time")>5?$("time")-5:0;G("time",e),ne("time")},type:"button",children:(0,I.jsx)("svg",{className:m.icon_time,children:(0,I.jsx)("use",{href:"".concat(p.Z,"#icon-minus")})})}),(0,I.jsxs)("span",{className:"".concat(m.counter_time," ").concat(J.time&&m.error_message),children:[$("time")," min"]}),(0,I.jsx)("button",{className:m.btn_time,onClick:function(){G("time",$("time")+5),ne("time")},type:"button",children:(0,I.jsx)("svg",{className:m.icon_time,children:(0,I.jsx)("use",{href:"".concat(p.Z,"#icon-plus")})})})]}),J.time&&(0,I.jsx)("span",{className:m.error_message,children:"Time is required"})]})]}),(0,I.jsxs)("div",{className:m.box_area,children:[(0,I.jsx)("label",{className:m.title_description,children:"Area"}),(0,I.jsx)(h.Qr,{name:"area",control:B,render:function(e){var n=e.field;return(0,I.jsx)(g.ZP,(0,o.Z)((0,o.Z)({isClearable:!0,placeholder:"Pick area",styles:F.X},n),{},{options:M}))}})]}),(0,I.jsxs)("div",{className:m.box_ingredients,children:[(0,I.jsx)("label",{className:m.title_description,children:"Ingredients"}),(0,I.jsxs)("div",{className:m.boxIngredQuan,children:[(0,I.jsxs)("div",{className:m.box_input_ingredients,children:[" ",(0,I.jsx)(h.Qr,{name:"ingredients",control:B,render:function(e){var n=e.field;return(0,I.jsx)(g.ZP,(0,o.Z)((0,o.Z)({isClearable:!0,placeholder:"Add the ingredient",styles:F.X},n),{},{options:D}))}})]}),(0,I.jsx)("div",{className:m.box_input_quantity,children:(0,I.jsx)("input",(0,o.Z)((0,o.Z)({name:"ingredients",className:m.input_quantity},K("measure")),{},{type:"text",placeholder:"Enter quantity"}))})]})]})]}),(0,I.jsxs)(_.Z,{type:"button",color:"secondary",size:"normal",onClick:oe,children:[(0,I.jsx)("span",{children:"Add ingredient"}),(0,I.jsx)("svg",{children:(0,I.jsx)("use",{href:"".concat(p.Z,"#icon-plus")})})]}),(0,I.jsx)("ul",{className:m.list_ingredients,children:Y.length>0&&Y.map((function(e){var n=e.img,r=e.name,t=e.measure,i=e._id;return(0,I.jsx)(Z.Z,{_id:i,callback:ie,img:n,name:r,measure:t},i)}))}),(0,I.jsxs)("div",{className:m.box_preparation,children:[(0,I.jsx)("label",{className:m.title_description,children:"Recipe Preparation"}),(0,I.jsx)("textarea",(0,o.Z)((0,o.Z)({className:"".concat(m.input_preparation," ").concat(J.instructions?m.input_error:"")},K("instructions")),{},{placeholder:J.instructions?"Preparation is required,enter preparation":"Enter recipe"}))]}),(0,I.jsxs)("div",{className:m.box_btn_del_pub,children:[(0,I.jsx)("button",{onClick:function(){re(),ee(),t(null),k([])},className:m.delete_btn,children:(0,I.jsx)("svg",{className:m.btn_delete,children:(0,I.jsx)("use",{href:"".concat(p.Z,"#icon-trash")})})}),(0,I.jsx)(_.Z,{type:"submit",color:"primary",size:"large",children:"Publish"})]})]})]})})},X=r(8099),E=function(){return(0,I.jsxs)(X.Z,{tag:"section",children:[(0,I.jsxs)("div",{className:"section",children:[(0,I.jsx)(t.Z,{current:"Add recipe"}),(0,I.jsxs)("div",{children:[(0,I.jsx)(i.Z,{children:"Add recipe"}),(0,I.jsx)(a.Z,{children:"Reveal your culinary art, share your favorite recipe and create gastronomic masterpieces with us."})]})]}),(0,I.jsx)(T,{})]})}},9985:function(e,n,r){r.d(n,{G3:function(){return i},Ni:function(){return _},Qd:function(){return s},T0:function(){return o},V4:function(){return l},XD:function(){return p},a3:function(){return d},iM:function(){return a},lZ:function(){return c},qG:function(){return u}});var t=r(4156),i=function(e){return t.hi.get("/api/recipes/details/".concat(e))},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.page,r=e.limit,i=e.category,a=e.ingredients,o=e.area;return t.hi.get("/api/recipes",{params:{page:n,limit:r,category:i,ingredients:a,area:o}})},o=function(){return t.hi.get("/api/recipes/popular")},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.page;return t.hi.get("/api/recipes/favorite",{params:{page:n,limit:9}})},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.page;return t.hi.get("/api/recipes/own",{params:{page:n,limit:9}})},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.page,r=arguments.length>1?arguments[1]:void 0;return t.hi.get("/api/recipes/own/".concat(r),{params:{page:n,limit:9}})},u=function(e){return t.hi.delete("/api/own/".concat(e))},d=function(e){return t.hi.patch("/api/recipes/addFavorite/".concat(e))},_=function(e){return t.hi.patch("/api/recipes/removeFavorite/".concat(e))},p=function(e){return t.hi.post("/api/recipes/own",e,{headers:{"Content-Type":"multipart/form-data"}})}},1961:function(e,n,r){r.d(n,{AP:function(){return t}});var t=(0,r(3553).P1)((function(e){return e.areas.items}),(function(e){return e.map((function(e){return{value:e._id,label:e.name}}))}))},7878:function(e,n,r){r.d(n,{i3:function(){return c},pf:function(){return s},us:function(){return i},xU:function(){return o},zh:function(){return a}});var t=r(3553),i=function(e){return e.categories.items},a=function(e){return e.categories.error},o=function(e){return e.categories.isLoading},c=(0,t.P1)(i,(function(e){return e.map((function(e){return{value:e._id,label:e.name}}))})),s=(0,t.P1)([i,function(e,n){return n}],(function(e,n){return null===e||void 0===e?void 0:e.find((function(e){return e._id===n}))}))},5787:function(e,n,r){r.d(n,{i9:function(){return a},jq:function(){return i}});var t=r(3553),i=function(e){return e.ingredients.items},a=(0,t.P1)(i,(function(e){return e.map((function(e){return{value:e._id,label:e.name}}))}))}}]);
//# sourceMappingURL=550.e833065c.chunk.js.map