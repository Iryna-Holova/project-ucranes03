"use strict";(self.webpackChunkproject_ucranes03=self.webpackChunkproject_ucranes03||[]).push([[720],{6196:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(9439),a=t(2791),i=t(8706),c=t(3789),s=t(1896),o=t(8421),u=t(4932);var l=t.p+"static/media/placeholder-image.47615446a99f198bfa3c72de94c54a99.svg",f=t(184),p=function(e){var n=e.publicId,t=e.alt,p=e.aspectRatio,d=void 0===p?"1":p,h=e.defaultImage,v=void 0===h?l:h,x=e.className,m=void 0===x?"":x,g=(0,a.useState)(!1),j=(0,r.Z)(g,2),_=j[0],w=j[1],b=(0,u.S5)(),Z=o.x.image(n).resize((0,s.hl)().aspectRatio(d)).format("auto").delivery((0,c.uN)(b?2:1));return _||!n?(0,f.jsx)("img",{src:v,alt:t,className:m}):(0,f.jsx)(i.pw,{cldImg:Z,plugins:[(0,i.mA)({rootMargin:"200px"}),(0,i.jW)(),(0,i.W$)({mode:"blur"})],alt:t,onError:function(){w(!0)},className:m})}},1746:function(e,n,t){t.d(n,{Z:function(){return i}});var r="MainTitle_title__R5KXq",a=t(184),i=function(e){var n=e.children;return(0,a.jsx)("h2",{className:r,children:n})}},8099:function(e,n,t){t.d(n,{Z:function(){return i}});var r={page:"PageContainer_page__uM9Tb",home:"PageContainer_home__oMp0D",recipe:"PageContainer_recipe__2uBu-",profile:"PageContainer_profile__r6XCR"},a=t(184),i=function(e){var n=e.page,t=e.children;e.tag;return(0,a.jsx)("section",{className:"".concat(r.page," ").concat(n?r[n]:""),children:t})}},8956:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(1087),a="PathInfo_path__rwXvn",i="PathInfo_current__3TPtY",c=t(184),s=function(e){var n=e.current;return(0,c.jsxs)("div",{className:a,children:[(0,c.jsx)(r.rU,{to:"/",children:"Home"}),(0,c.jsx)("span",{children:"/"}),(0,c.jsx)("span",{className:i,children:n})]})}},9887:function(e,n,t){t.d(n,{Z:function(){return i}});var r={text:"Subtitle_text__tBnTO",categories:"Subtitle_categories__vridf",recipes:"Subtitle_recipes__qvZt7"},a=t(184),i=function(e){var n=e.section,t=e.children;return(0,a.jsx)("p",{className:"".concat(r.text," ").concat(n?r[n]:""),children:t})}},8421:function(e,n,t){t.d(n,{I:function(){return s},x:function(){return c}});var r=t(4099),a=t(1896),i=t(3789),c=new r.r({cloud:{cloudName:"dhap6yrcb"}}),s=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.aspectRatio,r=void 0===t?"auto":t,s=n.width,o=void 0===s?"auto":s,u=n.pixelRatio,l=void 0===u?1:u;return c.image(e).resize((0,a.hl)().width(o).aspectRatio(r)).format("auto").delivery((0,i.uN)(l)).toURL()}},6033:function(e,n,t){t.d(n,{I:function(){return a},k:function(){return r}});var r=function(e){if(e){var n=e.getBoundingClientRect();n.top>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)||e.scrollIntoView({behavior:"smooth",block:"start"})}},a=function(e,n){if(e&&n){var t=e.getBoundingClientRect(),r=n.getBoundingClientRect(),a=e.scrollLeft+(r.left-t.left)-t.width/2+r.width/2;e.scrollTo({left:a,behavior:"smooth"})}}},4932:function(e,n,t){t.d(n,{Pv:function(){return i},S5:function(){return s},eW:function(){return a},kf:function(){return c}});var r=t(1075),a=function(){return(0,r.ac)({query:"(min-width: 1440px)"})},i=function(){return(0,r.ac)({query:"(min-width: 768px) and (max-width: 1440px)"})},c=function(){return(0,r.ac)({query:"(max-width: 768px)"})},s=function(){return(0,r.ac)({query:"(min-resolution: 2dppx)"})}},6720:function(e,n,t){t.r(n),t.d(n,{default:function(){return A}});var r=t(2791),a=t(7689),i=t(4932),c=t(8099),s=t(8956),o=t(1746),u=t(9887),l=t(1413),f=t(5861),p=t(9439),d=t(4687),h=t.n(d),v=t(411),x=t(6196),m=t(4420),g=t(4156),j=function(e){return g.hi.patch("/api/users/avatars",e,{headers:{"Content-Type":"multipart/form-data"}})},_=t(1324),w=t(3439),b="UserInfo_avatar__Gdbfx",Z="UserInfo_fileInputWrapper__tcOLJ",y="UserInfo_input_file__t8Fyu",k="UserInfo_icon_plus__rPVgp",N=t(3657),R=t(9321),C=t(7370),I=t(8568),S=t(9227),F=t(6809),P=t(184),T=function(){var e=(0,m.v9)(I.Vh),n=(0,m.I0)(),t=(0,a.UO)().id,i="current"===t,c=(0,r.useState)(null),s=(0,p.Z)(c,2),o=s[0],u=s[1],d=(0,r.useState)(!1),T=(0,p.Z)(d,2),L=T[0],E=T[1];(0,r.useEffect)((function(){var e=function(){var e=(0,f.Z)(h().mark((function e(){var n,r,a,c;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!i){e.next=9;break}return e.next=4,g.hi.get("/api/users/info");case 4:n=e.sent,r=n.data,u(r),e.next=14;break;case 9:return e.next=11,s=t,g.hi.get("/api/users/info/".concat(s));case 11:a=e.sent,c=a.data,u(c);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}var s}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();e()}),[i,t]);var U=function(){var e=(0,f.Z)(h().mark((function e(t){var r,a,i,c;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t.target.files[0])){e.next=16;break}return(a=new FormData).append("avatar",r),e.prev=4,e.next=7,j(a);case 7:i=e.sent,c=i.data,u((function(e){return(0,l.Z)((0,l.Z)({},e),{},{avatar:c.avatar})})),n((0,N.J3)(c.avatar)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),(0,S.x)(e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(n){return e.apply(this,arguments)}}(),B=function(){var e=(0,f.Z)(h().mark((function e(t){var r,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,F.ER)(t);case 3:r=e.sent,a=r.data,n((0,N.g8)(a.following)),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}(),M=function(){var e=(0,f.Z)(h().mark((function e(t){var r,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,F.Am)(t);case 3:r=e.sent,a=r.data,n((0,N.g8)(a.following)),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}(),q=o||{},W=q.email,O=q.recipes,A=q.favorites,H=q.followers,V=q.following,X=q.name,z=q.avatar;return(0,P.jsxs)("div",{children:[(0,P.jsx)(x.Z,{publicId:z,alt:"avatar",defaultImage:_.Z,className:b}),i&&(0,P.jsxs)("div",{className:Z,children:[(0,P.jsx)("input",{className:y,type:"file",onChange:U}),(0,P.jsx)("svg",{className:k,children:(0,P.jsx)("use",{href:"".concat(w.Z,"#icon-plus")})})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("p",{children:X}),(0,P.jsxs)("ul",{children:[(0,P.jsxs)("li",{children:[(0,P.jsx)("span",{children:"Email"}),": ",(0,P.jsx)("span",{children:W})]}),(0,P.jsxs)("li",{children:[(0,P.jsx)("span",{children:"Added recipes"}),": ",(0,P.jsx)("span",{children:O})]}),i&&(0,P.jsxs)("li",{children:[(0,P.jsx)("span",{children:"Favorites"}),": ",(0,P.jsx)("span",{children:A})]}),(0,P.jsxs)("li",{children:[(0,P.jsx)("span",{children:"Followers"}),": ",(0,P.jsx)("span",{children:H})]}),i&&(0,P.jsxs)("li",{children:[(0,P.jsx)("span",{children:"Following"}),": ",(0,P.jsx)("span",{children:V})]})]}),i&&(0,P.jsx)(v.Z,{type:"button",onClick:function(){return E(!0)},children:"Log out"}),!i&&(null!==e&&void 0!==e&&e.includes(t)?(0,P.jsx)(v.Z,{type:"button",onClick:function(){return B(t)},children:"Following"}):(0,P.jsx)(v.Z,{type:"button",onClick:function(){return M(t)},children:"Follow"})),L&&(0,P.jsx)(R.Z,{onClose:function(){return E(!1)},children:(0,P.jsx)(C.Z,{onClose:function(){return E(!1)}})})]})]})},L=t(1087),E=t(6033),U="TabsList_tabs_wrapper__29yMQ",B="TabsList_tabs_list__03iky",M="TabsList_tab__5plTK",q={current:[{name:"My recipes",path:"recipes"},{name:"My favorites",path:"favorites"},{name:"Followers",path:"followers"},{name:"Following",path:"following"}],other:[{name:"Recipes",path:"recipes"},{name:"Followers",path:"followers"}]},W=function(){var e=(0,a.TH)(),n=(0,i.kf)(),t=(0,i.Pv)(),c=(0,r.useState)(null),s=(0,p.Z)(c,2),o=s[0],u=s[1],l=(0,r.useState)(0),f=(0,p.Z)(l,2),d=f[0],h=f[1],v=(0,r.useState)(0),x=(0,p.Z)(v,2),m=x[0],g=x[1],j=(0,r.useState)(0),_=(0,p.Z)(j,2),w=_[0],b=_[1],Z=(0,r.useRef)(null),y=(0,r.useRef)(null),k=(0,r.useRef)(null),N="current"===(0,a.UO)().id?"current":"other";return(0,r.useLayoutEffect)((function(){u(e.pathname.split("/").slice(-1)[0])}),[e.pathname]),(0,r.useLayoutEffect)((function(){Z.current&&y.current&&k.current&&(!function(){var e=k.current,n=e.getBoundingClientRect(),t=y.current.getBoundingClientRect();h(e.offsetWidth),g(n.left-t.left),b(t.width)}(),n&&(0,E.I)(Z.current,k.current))}),[o,n,t]),(0,P.jsx)("div",{ref:Z,className:U,style:{"--var-active-width":"".concat(d,"px"),"--var-active-left":"".concat(m,"px"),"--var-tabs-width":"".concat(w,"px")},children:(0,P.jsx)("ul",{className:B,ref:y,children:q[N].map((function(e,n){var t=e.name,r=e.path;return(0,P.jsx)("li",{children:(0,P.jsx)(L.OL,{to:r,ref:o===r?k:null,className:M,children:t})},n)}))})})},O=t(6215),A=function(){var e=(0,i.eW)();return(0,P.jsxs)(c.Z,{tag:"section",page:"profile",children:[(0,P.jsxs)("div",{className:"section",children:[(0,P.jsx)(s.Z,{current:"Profile"}),(0,P.jsxs)("div",{children:[(0,P.jsx)(o.Z,{children:"Profile"}),(0,P.jsx)(u.Z,{children:"Reveal your culinary art, share your favorite recipe and create gastronomic masterpieces with us."})]}),!e&&(0,P.jsx)(T,{})]}),(0,P.jsxs)("div",{className:"section_row",children:[e&&(0,P.jsx)(T,{}),(0,P.jsxs)("div",{className:"section",children:[(0,P.jsx)(W,{}),(0,P.jsx)(r.Suspense,{fallback:(0,P.jsx)(O.Z,{}),children:(0,P.jsx)(a.j3,{})})]})]})]})}},6809:function(e,n,t){t.d(n,{$7:function(){return a},Am:function(){return c},ER:function(){return i},ET:function(){return s}});var r=t(4156),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.page,t=e.limit;return r.hi.get("/api/users/following",{params:{page:n,limit:t}})},i=function(e){return r.hi.patch("/api/users/removeFollowing/".concat(e))},c=function(e){return r.hi.patch("/api/users/addFollowing/".concat(e))},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.page,t=e.limit;return r.hi.get("/api/users/followers",{params:{page:n,limit:t}})}}}]);
//# sourceMappingURL=720.35630b16.chunk.js.map