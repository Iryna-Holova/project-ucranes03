{"version":3,"file":"static/js/695.3fc0ab14.chunk.js","mappings":"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","sources":["components/Shared/Image/Image.jsx","components/UserTabs/Favorites.jsx","components/UserTabs/ListItems/ListItems.jsx","webpack://project-ucranes03/./src/components/UserTabs/RecipePreview/RecipePreview.module.css?174f","components/UserTabs/RecipePreview/RecipePreview.jsx","helpers/cloudinary.js","hooks/device-type.js","services/recipes.js"],"sourcesContent":["import {\n  AdvancedImage,\n  lazyload,\n  placeholder,\n  responsive,\n} from '@cloudinary/react';\nimport { dpr } from '@cloudinary/url-gen/actions/delivery';\nimport { fill } from '@cloudinary/url-gen/actions/resize';\nimport { cld } from 'helpers/cloudinary';\nimport { useRetinaMediaQuery } from 'hooks/device-type';\n\nconst Image = ({ publicId, alt, aspectRatio = 'auto' }) => {\n  const isRetina = useRetinaMediaQuery();\n\n  const image = cld\n    .image(publicId)\n    .resize(fill().aspectRatio(aspectRatio))\n    .format('auto')\n    .delivery(dpr(isRetina ? 2 : 1));\n\n  return (\n    <AdvancedImage\n      cldImg={image}\n      plugins={[\n        lazyload({ rootMargin: '200px' }),\n        responsive(),\n        placeholder({ mode: 'blur' }),\n      ]}\n      alt={alt}\n    />\n  );\n};\n\nexport default Image;\n","import ListItems from 'components/UserTabs/ListItems/ListItems';\nimport RecipePreview from 'components/UserTabs/RecipePreview/RecipePreview';\nimport { useEffect, useState } from 'react';\nimport { getFavoriteRecipes } from '../../services/recipes';\n\nconst Favorites = () => {\n  const [favoriteRecipes, setFavoriteRecipes] = useState([]);\n\n  const fetchRecipes = async () => {\n    try {\n      const { data } = await getFavoriteRecipes();\n      setFavoriteRecipes(data);\n    } catch (error) {\n      throw Error(error.message);\n    }\n  };\n\n  useEffect(() => {\n    fetchRecipes();\n  }, []);\n\n  return (\n    <div>\n      <h3 className=\"visually-hidden\">Favorite recipes</h3>\n      <ListItems />\n      <RecipePreview recipes={favoriteRecipes} update={fetchRecipes} />\n    </div>\n  );\n};\n\nexport default Favorites;\n","// import UserCard from '../UserCard/UserCard';\n\nconst ListItems = ({ users, tabType }) => {\n  return (\n    <ul>\n      {/* {users.map((user) => (\n        <UserCard key={user.id} user={user} tabType = {tabType} />\n      ))} */}\n    </ul>\n  );\n};\n\nexport default ListItems;\n\n// {id, name, avatar_preview, recipes}\n// name={name} avatar_preview={avatar_preview} recipes={recipes}\n","// extracted by mini-css-extract-plugin\nexport default {\"empty_recipes_wrapper\":\"RecipePreview_empty_recipes_wrapper__VkOm7\",\"preview_list\":\"RecipePreview_preview_list__EmlXZ\",\"preview_item\":\"RecipePreview_preview_item__IR3IA\",\"info_wrapper\":\"RecipePreview_info_wrapper__a4bd9\",\"thumb\":\"RecipePreview_thumb__UScSn\",\"title\":\"RecipePreview_title__OJ+S+\",\"description\":\"RecipePreview_description__H94tK\",\"icons_wrapper\":\"RecipePreview_icons_wrapper__5K765\",\"trash_icon\":\"RecipePreview_trash_icon__UCJdD\",\"arrow_icon\":\"RecipePreview_arrow_icon__yvyDx\",\"icon\":\"RecipePreview_icon__1iPmT\"};","import css from './RecipePreview.module.css';\nimport icons from '../../../images/icons.svg';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { removeFavorite, removeOwnRecipe } from '../../../services/recipes';\nimport Image from '../../../components/Shared/Image/Image';\n\nconst RecipePreview = ({ recipes, update }) => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const isFavorite = location.pathname.includes('favorites');\n\n  const handleTrashIconClick = id => {\n    if (isFavorite) {\n      handleFavoriteRemove(id);\n    } else {\n      handleOwnRemove(id);\n    }\n  };\n\n  const handleFavoriteRemove = async id => {\n    try {\n      await removeFavorite(id);\n      if (update) update();\n    } catch (error) {\n      throw Error(error.message);\n    }\n  };\n\n  const handleOwnRemove = async id => {\n    try {\n      await removeOwnRecipe(id);\n      if (update) update();\n    } catch (error) {\n      throw Error(error.message);\n    }\n  };\n\n  return recipes.length === 0 ? (\n    <div className={css.empty_recipes_wrapper}>\n      <p>\n        Nothing has been added to your {isFavorite && 'favorite'} recipes list\n        yet. Please browse our recipes and add your favorites for easy access in\n        the future.\n      </p>\n    </div>\n  ) : (\n    <ul className={css.preview_list}>\n      {recipes.map(recipe => {\n        const { _id, title, description, thumb } = recipe;\n        return (\n          <li key={_id} className={css.preview_item}>\n            <div className={css.info_wrapper}>\n              <div className={css.thumb}>\n                <Image publicId={thumb} alt={title} aspectRatio={1} />\n              </div>\n              <div>\n                <h4 className={css.title}>{title}</h4>\n                <p className={css.description}>{description}</p>\n              </div>\n            </div>\n            <div className={css.icons_wrapper}>\n              <button\n                className={css.arrow_icon}\n                onClick={() => navigate(`/recipe/${_id}`)}\n              >\n                <svg className={css.icon}>\n                  <use href={`${icons}#icon-arrow-up-right`} />\n                </svg>\n              </button>\n              <button\n                className={css.trash_icon}\n                onClick={() => handleTrashIconClick(_id)}\n              >\n                <svg className={css.icon}>\n                  <use href={`${icons}#icon-trash`} />\n                </svg>\n              </button>\n            </div>\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\n\nexport default RecipePreview;\n","import { Cloudinary } from '@cloudinary/url-gen';\nimport { fill } from '@cloudinary/url-gen/actions/resize';\nimport { dpr } from '@cloudinary/url-gen/actions/delivery';\n\nexport const cld = new Cloudinary({\n  cloud: {\n    cloudName: 'dhap6yrcb',\n  },\n});\n\nexport const getImageUrlResized = (\n  publicId,\n  { aspectRatio = 'auto', width = 'auto', pixelRatio = 1 } = {}\n) =>\n  cld\n    .image(publicId)\n    .resize(fill().width(width).aspectRatio(aspectRatio))\n    .format('auto')\n    .delivery(dpr(pixelRatio))\n    .toURL();\n","import { useMediaQuery } from 'react-responsive';\n\nexport const useDesktopMediaQuery = () =>\n  useMediaQuery({ query: '(min-width: 1440px)' });\n\nexport const useTabletMediaQuery = () =>\n  useMediaQuery({ query: '(min-width: 768px) and (max-width: 1440px)' });\n\nexport const useMobileMediaQuery = () =>\n  useMediaQuery({ query: '(max-width: 768px)' });\n\nexport const useRetinaMediaQuery = () =>\n  useMediaQuery({ query: '(min-resolution: 2dppx)' });\n","import { api } from './api';\n\nexport const getRecipes = () => api.get('/api/recipes');\n\nexport const getPopularRecipes = () => api.get('/api/recipes/popular');\n\nexport const getFavoriteRecipes = () => api.get('/api/recipes/favorite');\n\nexport const getOwnRecipes = () => api.get('/api/recipes/own');\n\nexport const removeOwnRecipe = id => api.delete(`/api/own/${id}`);\n\nexport const addFavorite = id => api.patch(`/api/recipes/addFavorite/${id}`);\n\nexport const removeFavorite = id =>\n  api.patch(`/api/recipes/removeFavorite/${id}`);\n"],"names":["_ref","publicId","alt","_ref$aspectRatio","aspectRatio","isRetina","useRetinaMediaQuery","image","cld","resize","fill","format","delivery","dpr","_jsx","AdvancedImage","cldImg","plugins","lazyload","rootMargin","responsive","placeholder","mode","_useState","useState","_useState2","_slicedToArray","favoriteRecipes","setFavoriteRecipes","fetchRecipes","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$getFavoriteRec","data","_context","prev","next","getFavoriteRecipes","sent","t0","Error","message","stop","apply","arguments","useEffect","_jsxs","children","className","ListItems","RecipePreview","recipes","update","users","tabType","navigate","useNavigate","isFavorite","useLocation","pathname","includes","handleFavoriteRemove","_ref2","id","removeFavorite","_x","handleOwnRemove","_ref3","_callee2","_context2","removeOwnRecipe","_x2","length","css","map","recipe","_id","title","description","thumb","Image","onClick","concat","href","icons","Cloudinary","cloud","cloudName","getImageUrlResized","undefined","_ref$width","width","_ref$pixelRatio","pixelRatio","toURL","useDesktopMediaQuery","useMediaQuery","query","useTabletMediaQuery","getRecipes","api","getPopularRecipes","getOwnRecipes","addFavorite"],"sourceRoot":""}