"use strict";(self.webpackChunkproject_ucranes03=self.webpackChunkproject_ucranes03||[]).push([[868],{3188:(e,a,i)=>{i.d(a,{Z:()=>x});var s=i(2791),r=i(4420),c=i(7689),n=i(9985),t=i(8568),o=i(7263),l=i(3536),d=i(751),p=i(8417),_=i(1324),m=i(3439),h=i(3003),u=i(3329);const x=e=>{let{recipe:a}=e;const{_id:i,title:x,owner:j,description:v,thumb:g,favorite:f}=a,{onAuthOpen:N}=(0,o.F)(),Z=(0,l.kf)(),b=(0,l.Pv)(),w=(0,c.TH)(),R=(0,c.s0)(),y=(0,r.v9)(t.dy),[C,I]=(0,s.useState)(!1),[k,M]=(0,s.useState)(!1);(0,s.useEffect)((()=>{y&&I(f.includes(y.id))}),[f,y]);const P=w.pathname.includes("recipes")?"".concat(h.Z.recipe_card," ").concat(h.Z.all_recipes):"".concat(h.Z.recipe_card," ").concat(h.Z.popular_recipes);return(0,u.jsxs)("li",{className:P,children:[(0,u.jsx)(p.Z,{publicId:g,alt:x,aspectRatio:Z?1.49:b?1.24:1,className:h.Z.thumb}),(0,u.jsxs)("div",{className:h.Z.card_details,children:[(0,u.jsx)("h3",{className:h.Z.title,children:x}),(0,u.jsx)("p",{className:h.Z.description,children:v}),(0,u.jsxs)("div",{className:h.Z.owner_info,children:[(0,u.jsxs)("button",{type:"button",className:h.Z.owner_btn,onClick:()=>{y?R("/user/".concat(j._id,"/recipes")):N("/user/".concat(j._id,"/recipes"))},children:[(0,u.jsx)(p.Z,{publicId:j.avatar,className:h.Z.avatar,defaultImage:_.Z,alt:j.name}),j.name]}),(0,u.jsxs)("div",{className:h.Z.icons_wrapper,children:[(0,u.jsx)("button",{type:"button",className:h.Z.heart_icon,onClick:async()=>{if(y){M(!0);try{C?(await(0,n.Ni)(i),I(!1)):(await(0,n.a3)(i),I(!0))}catch(e){(0,d.x)(e)}finally{M(!1)}}else N()},disabled:k,"aria-label":C?"Remove from favorites":"Add to favorites","aria-pressed":C,title:C?"Remove from favorites":"Add to favorites",children:(0,u.jsx)("svg",{className:h.Z.icon,children:(0,u.jsx)("use",{href:"".concat(m.Z).concat(C?"#icon-heart-filled":"#icon-heart")})})}),(0,u.jsx)("button",{type:"button",className:h.Z.arrow_icon,onClick:()=>R("/recipe/".concat(i)),title:"View recipe","aria-label":"View recipe",children:(0,u.jsx)("svg",{className:h.Z.icon,children:(0,u.jsx)("use",{href:"".concat(m.Z,"#icon-arrow-up-right")})})})]})]})]})]})}},6164:(e,a,i)=>{i.d(a,{Z:()=>o});var s=i(1324),r=i(5265),c=i(3003),n=i(7689),t=i(3329);const o=()=>{const e=(0,n.TH)().pathname.includes("recipes")?"".concat(c.Z.recipe_card," ").concat(c.Z.all_recipes):"".concat(c.Z.recipe_card," ").concat(c.Z.popular_recipes);return(0,t.jsxs)("li",{style:{animation:"var(--animation-skeleton)"},className:e,children:[(0,t.jsx)("img",{src:r.Z,alt:"placeholder",className:c.Z.thumb}),(0,t.jsxs)("div",{className:c.Z.card_details,children:[(0,t.jsx)("div",{style:{backgroundColor:"var(--color-main-10)",height:"24px",borderRadius:"8px"}}),(0,t.jsx)("div",{style:{backgroundColor:"var(--color-main-10)",borderRadius:"8px"},className:c.Z.description}),(0,t.jsxs)("div",{className:c.Z.owner_info,children:[(0,t.jsx)("img",{src:s.Z,className:c.Z.avatar,alt:"avatar placeholder"}),(0,t.jsxs)("div",{className:c.Z.icons_wrapper,children:[(0,t.jsx)("div",{style:{backgroundColor:"var(--color-main-10)"},className:c.Z.heart_icon}),(0,t.jsx)("div",{style:{backgroundColor:"var(--color-main-10)"},className:c.Z.arrow_icon})]})]})]})]})}},8333:(e,a,i)=>{i.d(a,{Z:()=>c});const s="RecipeList_recipe_list__+8mtI";var r=i(3329);const c=e=>{let{children:a}=e;return(0,r.jsx)("ul",{className:s,children:a})}},6618:(e,a,i)=>{i.d(a,{Z:()=>m});var s=i(2791);const r="Ingredients_ingredient_container__gr-3U",c="Ingredients_img_wrapper__z8MRG",n="Ingredients_info_wrapper__ref+n",t="Ingredients_name_style__3XTrH",o="Ingredients_measure_style__tz9RC",l="Ingredients_btn__YgUSW";var d=i(3439),p=i(5265),_=i(3329);const m=e=>{let{img:a,name:i,measure:m,_id:h,callback:u=null}=e;const[x,j]=(0,s.useState)(a);return(0,_.jsxs)("li",{className:r,children:[(0,_.jsx)("img",{src:x,alt:i,className:c,onError:()=>{j(p.Z)}}),(0,_.jsxs)("div",{className:n,children:[(0,_.jsx)("p",{className:t,children:i}),(0,_.jsx)("p",{className:o,children:m})]}),u&&(0,_.jsx)("button",{className:l,onClick:()=>u(h),children:(0,_.jsx)("svg",{height:16,width:16,children:(0,_.jsx)("use",{href:"".concat(d.Z,"#icon-close")})})})]})}},8099:(e,a,i)=>{i.d(a,{Z:()=>c});const s={page:"PageContainer_page__uM9Tb",home:"PageContainer_home__oMp0D",recipe:"PageContainer_recipe__2uBu-",profile:"PageContainer_profile__r6XCR"};var r=i(3329);const c=e=>{let{page:a,children:i,tag:c="div"}=e;return"section"===c?(0,r.jsx)("section",{className:"".concat(s.page," ").concat(a?s[a]:""),children:i}):(0,r.jsx)("div",{className:"".concat(s.page," ").concat(a?s[a]:""),children:i})}},8956:(e,a,i)=>{i.d(a,{Z:()=>t});var s=i(1087);const r="PathInfo_path__rwXvn",c="PathInfo_current__3TPtY";var n=i(3329);const t=e=>{let{current:a}=e;return(0,n.jsxs)("div",{className:r,children:[(0,n.jsx)(s.rU,{to:"/",children:"Home"}),(0,n.jsx)("span",{children:"/"}),(0,n.jsx)("span",{className:c,children:a})]})}},7868:(e,a,i)=>{i.r(a),i.d(a,{default:()=>W});var s=i(2791),r=i(7689),c=i(9985),n=i(751),t=i(3536),o=i(8956),l=i(8333),d=i(3188),p=i(6164);const _="PopularRecipes_title__8YP+o";var m=i(3329);const h=()=>{const[e,a]=(0,s.useState)([]),[i,r]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{(async()=>{try{r(!0);const{data:e}=await(0,c.T0)();a(e)}catch(e){(0,n.x)(e)}finally{r(!1)}})()}),[]),(0,m.jsxs)("section",{className:"section",children:[(0,m.jsx)("h2",{className:_,children:"Popular recipes"}),(0,m.jsx)(l.Z,{children:i?[...Array(4)].map(((e,a)=>(0,m.jsx)(p.Z,{},a))):e.map((e=>(0,m.jsx)(d.Z,{recipe:e},e._id)))})]})};var u=i(4420),x=i(8568),j=i(6618);const v="RecipeIngredients_title__glYQM",g="RecipeIngredients_list__oq936",f=e=>{let{ingredients:a=[]}=e;return(0,m.jsxs)("div",{children:[(0,m.jsx)("h3",{className:v,children:"ingredients"}),(0,m.jsx)("ul",{className:g,children:a.map((e=>{let{id:{name:a,_id:i,img:s},measure:r}=e;return(0,m.jsx)(j.Z,{img:s,name:a,measure:r},i)}))})]})};var N=i(8417);const Z="RecipeMainInfo_img_container__W17Hs",b="RecipeMainInfo_container_info__iLSQG",w="RecipeMainInfo_title__upfnK",R="RecipeMainInfo_list__ilh-f",y="RecipeMainInfo_list_item__GNQO3",C="RecipeMainInfo_description__aNDOe",I="RecipeMainInfo_avatar_container__PuBfX",k="RecipeMainInfo_btn_wrapper__i0Rim",M="RecipeMainInfo_creator__Ud2l1",P="RecipeMainInfo_creator_info__BfWMX",T="RecipeMainInfo_creator_name__yhSRS";var S=i(1324);const F=e=>{let{thumb:a,title:i,category:s,time:r,area:c,description:n,owner:o,handlerGoToOwner:l}=e;const d=(0,t.eW)(),p=(0,t.kf)(),_=(0,t.Pv)();return(0,m.jsxs)(m.Fragment,{children:[!d&&(0,m.jsx)(N.Z,{publicId:a,alt:i,aspectRatio:p?1.078:_?1.76:1,className:Z}),(0,m.jsxs)("div",{className:b,children:[(0,m.jsx)("h2",{className:w,children:i}),(0,m.jsxs)("ul",{className:R,children:[(0,m.jsx)("li",{className:y,children:c}),(0,m.jsx)("li",{className:y,children:s}),(0,m.jsxs)("li",{className:y,children:[r," min"]})]}),(0,m.jsx)("p",{className:C,children:n}),(0,m.jsxs)("button",{type:"button",className:k,onClick:l,children:[(0,m.jsx)(N.Z,{publicId:o.avatar,alt:o.name,defaultImage:S.Z,className:I}),(0,m.jsxs)("span",{className:M,children:[(0,m.jsx)("span",{className:P,children:"Created by:"}),(0,m.jsx)("span",{className:T,children:o.name})]})]})]})]})};var O=i(411);const A="RecipePreparation_preparation_wrapper__najNu",G="RecipePreparation_title__aaXuL",X=e=>{let{instructions:a,status:i,handlerAddToFavorite:s,isPending:r}=e;const c=a.split("\r\n");return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:A,children:[(0,m.jsx)("h3",{className:G,children:"Recipe Preparation"}),c.map(((e,a)=>(0,m.jsx)("p",{children:e},a)))]}),(0,m.jsx)(O.Z,{type:"button",color:"light",size:"normal",onClick:s,disabled:r,children:i})]})};var E=i(7263);const Q=e=>{let{recipe:a}=e;const{thumb:i,title:t,category:o,time:l,area:{name:d},description:p,owner:_,ingredients:h,instructions:j,favorite:v}=a,{onAuthOpen:g}=(0,E.F)(),N=(0,u.v9)(x.dy),Z=(0,r.s0)(),[b,w]=(0,s.useState)(!1),[R,y]=(0,s.useState)(!!N&&v.includes(N.id));return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(F,{thumb:i,title:t,category:o.name,time:l,area:d,description:p,owner:_,handlerGoToOwner:()=>{N?Z("/user/".concat(a.owner._id,"/recipes")):g("/user/".concat(a.owner._id,"/recipes"))}}),(0,m.jsx)(f,{ingredients:h}),(0,m.jsx)(X,{instructions:j,status:R?"Remove from favorites":"Add to favorites",handlerAddToFavorite:async()=>{if(N)try{w(!0),R?(await(0,c.Ni)(a._id),y(!1)):(await(0,c.a3)(a._id),y(!0))}catch(e){(0,n.x)(e)}finally{w(!1)}else g()},isPending:b})]})};var U=i(8099);const W=()=>{const e=(0,t.eW)(),{id:a}=(0,r.UO)(),[i,l]=(0,s.useState)(null);return(0,s.useEffect)((()=>{window.scrollTo({top:0,behavior:"smooth"})})),(0,s.useEffect)((()=>{(async()=>{try{const{data:e}=await(0,c.G3)(a);l(e)}catch(e){(0,n.x)(e)}})()}),[a]),(0,m.jsxs)(U.Z,{page:"recipe",children:[(0,m.jsxs)("section",{className:"section ",children:[(0,m.jsx)(o.Z,{current:null===i||void 0===i?void 0:i.title}),(0,m.jsx)("div",{className:"section_row",children:i&&(0,m.jsxs)(m.Fragment,{children:[e&&(0,m.jsx)(N.Z,{publicId:i.thumb,alt:i.title,aspectRatio:1.37}),(0,m.jsx)("div",{className:"section",children:(0,m.jsx)(Q,{recipe:i})})]})})]}),(0,m.jsx)(h,{})]})}},9985:(e,a,i)=>{i.d(a,{G3:()=>r,Ni:()=>_,Qd:()=>o,T0:()=>n,V4:()=>l,XD:()=>m,a3:()=>p,iM:()=>c,lZ:()=>t,qG:()=>d});var s=i(9503);const r=e=>s.hi.get("/api/recipes/details/".concat(e)),c=function(){let{page:e,limit:a,category:i,ingredients:r,area:c}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.hi.get("/api/recipes",{params:{page:e,limit:a,category:i,ingredients:r,area:c}})},n=()=>s.hi.get("/api/recipes/popular"),t=function(){let{page:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.hi.get("/api/recipes/favorite",{params:{page:e,limit:9}})},o=function(){let{page:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.hi.get("/api/recipes/own",{params:{page:e,limit:9}})},l=function(){let{page:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;return s.hi.get("/api/recipes/own/".concat(a),{params:{page:e,limit:9}})},d=e=>s.hi.delete("/api/recipes/own/".concat(e)),p=e=>s.hi.patch("/api/recipes/addFavorite/".concat(e)),_=e=>s.hi.patch("/api/recipes/removeFavorite/".concat(e)),m=e=>s.hi.post("/api/recipes/own",e,{headers:{"Content-Type":"multipart/form-data"}})},3003:(e,a,i)=>{i.d(a,{Z:()=>s});const s={recipe_card:"RecipeCard_recipe_card__OKru5",thumb:"RecipeCard_thumb__ob9-m",card_details:"RecipeCard_card_details__QQLBu",title:"RecipeCard_title__Q8fes",description:"RecipeCard_description__FKT9D",owner_info:"RecipeCard_owner_info__WRsg8",owner_btn:"RecipeCard_owner_btn__UlEl-",avatar:"RecipeCard_avatar__EIqdx",icons_wrapper:"RecipeCard_icons_wrapper__3mYK1",heart_icon:"RecipeCard_heart_icon__qfeO0",arrow_icon:"RecipeCard_arrow_icon__MU94V",icon:"RecipeCard_icon__r2o6b",all_recipes:"RecipeCard_all_recipes__JJ172",popular_recipes:"RecipeCard_popular_recipes__XvlL9"}}}]);
//# sourceMappingURL=868.f72a2d3f.chunk.js.map