"use strict";(self.webpackChunkproject_ucranes03=self.webpackChunkproject_ucranes03||[]).push([[757],{5992:(e,t,i)=>{i.d(t,{Z:()=>n});const a="Empty_text__F5nPx";var s=i(3329);const n=e=>{let{children:t}=e;return(0,s.jsx)("p",{className:a,children:t})}},899:(e,t,i)=>{i.d(t,{Z:()=>p});var a=i(1087);const s="Pagination_pagination__9X6Z-",n="Pagination_page__eZu9l",c="Pagination_active__ON+Ce",r="Pagination_prev__+HKWv",o="Pagination_next__JvuKw";var l=i(3329);const p=e=>{let{totalPages:t}=e;const[i,p]=(0,a.lr)(),_=parseInt(i.get("page"))||1,d=e=>{p((t=>{const i=new URLSearchParams(t);return i.set("page",e),i}))};return(0,l.jsxs)("div",{className:s,"aria-label":"Page navigation",role:"navigation",children:[_>1&&(0,l.jsx)("button",{onClick:()=>d(_-1),className:r,"aria-label":"Previous page",title:"Previous page",children:"Previous"}),(t<=3?Array.from({length:t},((e,t)=>t+1)):1===_?[1,2,3]:_===t?[t-2,t-1,t]:[_-1,_,_+1]).map((e=>(0,l.jsx)("button",{onClick:()=>d(e),className:"".concat(e===_&&c," ").concat(n),"aria-label":"Page ".concat(e),"aria-current":e===_,title:"Page ".concat(e),children:e},e))),_<t&&(0,l.jsx)("button",{onClick:()=>d(_+1),className:o,"aria-label":"Next page",title:"Next page",children:"Next"})]})}},3845:(e,t,i)=>{i.d(t,{Z:()=>n});const a="ListItems_list__5gqc0";var s=i(3329);const n=e=>{let{children:t}=e;return(0,s.jsx)("ul",{className:a,children:t})}},2701:(e,t,i)=>{i.d(t,{Z:()=>_});var a=i(2791),s=i(7689),n=i(4420),c=i(8568),r=i(8417),o=i(3439),l=i(1374),p=i(3329);const _=e=>{let{recipe:t,onRemove:i}=e;const[_,d]=(0,a.useState)(!1),{_id:h,title:g,description:v,thumb:u}=t,{id:m}=(0,s.UO)(),w=(0,n.v9)(c.dy),x=(0,s.s0)();return(0,p.jsxs)("li",{className:l.Z.preview_item,children:[(0,p.jsxs)("div",{className:l.Z.info_wrapper,children:[(0,p.jsx)(r.Z,{publicId:u,alt:g,aspectRatio:1,className:l.Z.thumb}),(0,p.jsxs)("div",{className:l.Z.description_wrapper,children:[(0,p.jsx)("h4",{className:l.Z.title,children:g}),(0,p.jsx)("p",{className:l.Z.description,children:v})]})]}),(0,p.jsxs)("div",{className:l.Z.icons_wrapper,children:[(0,p.jsx)("button",{className:l.Z.arrow_icon,onClick:()=>x("/recipe/".concat(h)),children:(0,p.jsx)("svg",{className:l.Z.icon,children:(0,p.jsx)("use",{href:"".concat(o.Z,"#icon-arrow-up-right")})})}),m===(null===w||void 0===w?void 0:w.id)&&(0,p.jsx)("button",{className:l.Z.trash_icon,onClick:async()=>{d(!0),await i(h),d(!1)},disabled:_,children:(0,p.jsx)("svg",{className:l.Z.icon,children:(0,p.jsx)("use",{href:"".concat(o.Z,"#icon-trash")})})})]})]})}},1670:(e,t,i)=>{i.d(t,{Z:()=>n});var a=i(1374),s=i(3329);const n=()=>(0,s.jsxs)("li",{style:{pointerEvents:"none"},className:"".concat(a.Z.preview_item," ").concat(a.Z.preview_item_skeleton),children:[(0,s.jsxs)("div",{className:a.Z.info_wrapper,children:[(0,s.jsx)("div",{className:"".concat(a.Z.thumb," ").concat(a.Z.thumb_skeleton)}),(0,s.jsxs)("div",{className:a.Z.description_wrapper,children:[(0,s.jsx)("div",{className:"".concat(a.Z.title," ").concat(a.Z.title_skeleton)}),(0,s.jsx)("div",{className:"".concat(a.Z.description," ").concat(a.Z.description_skeleton)})]})]}),(0,s.jsxs)("div",{className:a.Z.icons_wrapper,children:[(0,s.jsx)("div",{className:"".concat(a.Z.arrow_icon," ").concat(a.Z.arrow_icon_skeleton)}),(0,s.jsx)("div",{className:"".concat(a.Z.trash_icon," ").concat(a.Z.trash_icon_skeleton)})]})]})},8757:(e,t,i)=>{i.r(t),i.d(t,{default:()=>w});var a=i(2791),s=i(1087),n=i(7689),c=i(4420),r=i(3657),o=i(8568),l=i(9985),p=i(751),_=i(6033),d=i(3845),h=i(2701),g=i(5992),v=i(899),u=i(1670),m=i(3329);const w=()=>{const e=(0,c.I0)(),[t,i]=(0,s.lr)(),{id:w}=(0,n.UO)(),{id:x}=(0,c.v9)(o.dy),Z=(0,a.useRef)(null),[j,f]=(0,a.useState)(0),[P,N]=(0,a.useState)([]),[b,k]=(0,a.useState)(!1),R=(0,a.useCallback)((async()=>{k(!0);try{const e=t.get("page")||1;if(w!==x){const{data:t}=await(0,l.V4)({page:e},w);N(t.results),f(t.totalPages)}else{const{data:t}=await(0,l.Qd)({page:e});N(t.results),f(t.totalPages)}}catch(e){(0,p.x)({message:"Something went wrong. Please try again later."})}finally{k(!1)}}),[x,w,t]);(0,a.useEffect)((()=>{(0,_.xf)(Z.current),R()}),[R]);const y=async a=>{try{await(0,l.qG)(a),e((0,r.gw)(-1)),1===P.length&&t.get("page")===j.toString()?((0,_.xf)(Z.current),i({page:j-1})):R()}catch(s){(0,p.x)(s.response.data)}};return(0,m.jsxs)("div",{children:[(0,m.jsx)("span",{ref:Z,style:{position:"absolute"}}),(0,m.jsx)("h3",{className:"visually-hidden",children:"Recipes"}),b||0!==P.length?(0,m.jsxs)(d.Z,{children:[b&&[...Array(9)].map(((e,t)=>(0,m.jsx)(u.Z,{},t))),!b&&P.map((e=>(0,m.jsx)(h.Z,{recipe:e,onRemove:y},e._id)))]}):(0,m.jsx)(g.Z,{children:"Nothing has been added to your recipes list yet. Please browse our recipes and add your favorites for easy access in the future."}),j>1&&(0,m.jsx)(v.Z,{totalPages:j})]})}},6033:(e,t,i)=>{i.d(t,{II:()=>n,kI:()=>a,xf:()=>s});const a=e=>{if(!e)return;const t=e.getBoundingClientRect();t.top>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)||e.scrollIntoView({behavior:"smooth",block:"start"})},s=e=>{if(!e)return;e.getBoundingClientRect().top<0&&window.scrollTo({top:e.offsetTop-100,behavior:"smooth"})},n=(e,t)=>{if(!e||!t)return;const i=e.getBoundingClientRect(),a=t.getBoundingClientRect(),s=e.scrollLeft+(a.left-i.left)-i.width/2+a.width/2;e.scrollTo({left:s,behavior:"smooth"})}},9985:(e,t,i)=>{i.d(t,{G3:()=>s,Ni:()=>d,Qd:()=>o,T0:()=>c,V4:()=>l,XD:()=>h,a3:()=>_,iM:()=>n,lZ:()=>r,qG:()=>p});var a=i(9503);const s=e=>a.hi.get("/api/recipes/details/".concat(e)),n=function(){let{page:e,limit:t,category:i,ingredients:s,area:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.hi.get("/api/recipes",{params:{page:e,limit:t,category:i,ingredients:s,area:n}})},c=()=>a.hi.get("/api/recipes/popular"),r=function(){let{page:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.hi.get("/api/recipes/favorite",{params:{page:e,limit:9}})},o=function(){let{page:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.hi.get("/api/recipes/own",{params:{page:e,limit:9}})},l=function(){let{page:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return a.hi.get("/api/recipes/own/".concat(t),{params:{page:e,limit:9}})},p=e=>a.hi.delete("/api/recipes/own/".concat(e)),_=e=>a.hi.patch("/api/recipes/addFavorite/".concat(e)),d=e=>a.hi.patch("/api/recipes/removeFavorite/".concat(e)),h=e=>a.hi.post("/api/recipes/own",e,{headers:{"Content-Type":"multipart/form-data"}})},1374:(e,t,i)=>{i.d(t,{Z:()=>a});const a={preview_item:"RecipePreview_preview_item__IR3IA",preview_item_skeleton:"RecipePreview_preview_item_skeleton__7trG2",info_wrapper:"RecipePreview_info_wrapper__a4bd9",thumb:"RecipePreview_thumb__UScSn",thumb_skeleton:"RecipePreview_thumb_skeleton__AF5ae",description_wrapper:"RecipePreview_description_wrapper__Ly1ga",title:"RecipePreview_title__OJ+S+",title_skeleton:"RecipePreview_title_skeleton__z5Mpr",description:"RecipePreview_description__H94tK",description_skeleton:"RecipePreview_description_skeleton__UYcCr",icons_wrapper:"RecipePreview_icons_wrapper__5K765",trash_icon:"RecipePreview_trash_icon__UCJdD",arrow_icon:"RecipePreview_arrow_icon__yvyDx",arrow_icon_skeleton:"RecipePreview_arrow_icon_skeleton__wDB9b",trash_icon_skeleton:"RecipePreview_trash_icon_skeleton__YYCs1",icon:"RecipePreview_icon__1iPmT"}}}]);
//# sourceMappingURL=757.ae2ad048.chunk.js.map