"use strict";(self.webpackChunkproject_ucranes03=self.webpackChunkproject_ucranes03||[]).push([[177],{1746:(e,a,s)=>{s.d(a,{Z:()=>n});const t="MainTitle_title__R5KXq";var l=s(3329);const n=e=>{let{children:a}=e;return(0,l.jsx)("h2",{className:t,children:a})}},8099:(e,a,s)=>{s.d(a,{Z:()=>n});const t={page:"PageContainer_page__uM9Tb",home:"PageContainer_home__oMp0D",recipe:"PageContainer_recipe__2uBu-",profile:"PageContainer_profile__r6XCR"};var l=s(3329);const n=e=>{let{page:a,children:s,tag:n="div"}=e;return"section"===n?(0,l.jsx)("section",{className:"".concat(t.page," ").concat(a?t[a]:""),children:s}):(0,l.jsx)("div",{className:"".concat(t.page," ").concat(a?t[a]:""),children:s})}},8956:(e,a,s)=>{s.d(a,{Z:()=>r});var t=s(1087);const l="PathInfo_path__rwXvn",n="PathInfo_current__3TPtY";var i=s(3329);const r=e=>{let{current:a}=e;return(0,i.jsxs)("div",{className:l,children:[(0,i.jsx)(t.rU,{to:"/",children:"Home"}),(0,i.jsx)("span",{children:"/"}),(0,i.jsx)("span",{className:n,children:a})]})}},9887:(e,a,s)=>{s.d(a,{Z:()=>n});const t={text:"Subtitle_text__tBnTO",categories:"Subtitle_categories__vridf",recipes:"Subtitle_recipes__qvZt7"};var l=s(3329);const n=e=>{let{section:a,children:s}=e;return(0,l.jsx)("p",{className:"".concat(t.text," ").concat(a?t[a]:""),children:s})}},6033:(e,a,s)=>{s.d(a,{I:()=>l,k:()=>t});const t=e=>{if(!e)return;const a=e.getBoundingClientRect();a.top>=0&&a.bottom<=(window.innerHeight||document.documentElement.clientHeight)||e.scrollIntoView({behavior:"smooth",block:"start"})},l=(e,a)=>{if(!e||!a)return;const s=e.getBoundingClientRect(),t=a.getBoundingClientRect(),l=e.scrollLeft+(t.left-s.left)-s.width/2+t.width/2;e.scrollTo({left:l,behavior:"smooth"})}},9177:(e,a,s)=>{s.r(a),s.d(a,{default:()=>K});var t=s(2791),l=s(7689),n=s(3536),i=s(8099),r=s(8956),c=s(1746),o=s(9887),d=s(4420),u=s(3657),h=s(7820),p=s(8568),_=s(9447),m=s(6809),f=s(751),v=s(1175),x=s(7370),j=s(411),g=s(8417),w=s(1324),N=s(3439);const b="UserInfo_user_info_container__D+klU",y="UserInfo_avatar__Gdbfx",I="UserInfo_image_input_wrapper__3Dva1",C="UserInfo_file_input_label__Zh9Vz",Z="UserInfo_icon_plus__rPVgp",U="UserInfo_name_items_list_wrapper__q2ow+",k="UserInfo_name__6mj8r",R="UserInfo_loader__tokeK",S="UserInfo_list_items__f+syP",F="UserInfo_list_item__5vUS1",P="UserInfo_item_name__j0iTq",T="UserInfo_item_value__Q3i9y";var L=s(3329);const E=()=>{var e;const a=(0,d.v9)(p.Vh),s=(0,d.v9)(p.dy),n=(0,d.I0)(),i=(0,l.UO)().id,r="current"===i,[c,o]=(0,t.useState)(null),[E,B]=(0,t.useState)(!1),[M,q]=(0,t.useState)(!1),[D,H]=(0,t.useState)(!1),[O,V]=(0,t.useState)(!1);(0,t.useEffect)((()=>{(async()=>{o(null),q(!0);try{if(r)await n((0,h.bG)()).unwrap();else{const{data:e}=await(0,_.C5)(i);o(e)}}catch(e){(0,f.x)(e)}finally{q(!1)}})()}),[n,r,i]);const{email:A,recipes:K,followers:W,name:X,avatar:G}=c||{};return(0,L.jsxs)("div",{className:b,children:[(0,L.jsxs)("div",{className:U,children:[(0,L.jsxs)("div",{className:I,children:[(0,L.jsx)(g.Z,{publicId:r?s.avatar:G,alt:"avatar",defaultImage:w.Z,className:y}),r&&(0,L.jsxs)("label",{htmlFor:"avatar",className:C,children:[(0,L.jsx)("input",{id:"avatar",disabled:D,className:"visually-hidden",type:"file",onChange:async e=>{const a=e.target.files[0];if(a){const e=new FormData;e.append("avatar",a),H(!0);try{const{data:a}=await(0,_.n1)(e);o((e=>({...e,avatar:a.avatar}))),n((0,u.J3)(a.avatar))}catch(s){(0,f.x)(s)}finally{H(!1)}}}}),(0,L.jsx)("svg",{className:Z,children:(0,L.jsx)("use",{href:"".concat(N.Z,"#icon-plus")})})]})]}),M&&(0,L.jsx)("span",{className:R}),(0,L.jsx)("p",{className:k,children:r?null===s||void 0===s?void 0:s.name:X}),(0,L.jsxs)("ul",{className:S,children:[(0,L.jsxs)("li",{className:F,children:[(0,L.jsx)("span",{className:P,children:"Email:"}),(0,L.jsx)("span",{className:T,children:r?null===s||void 0===s?void 0:s.email:A})]}),(0,L.jsxs)("li",{className:F,children:[(0,L.jsx)("span",{className:P,children:"Added recipes:"}),(0,L.jsx)("span",{className:T,children:!M&&(r?null===s||void 0===s?void 0:s.recipes:K)})]}),r&&(0,L.jsxs)("li",{className:F,children:[(0,L.jsx)("span",{className:P,children:"Favorites:"}),(0,L.jsx)("span",{className:T,children:!M&&(null===s||void 0===s?void 0:s.favorites)})]}),(0,L.jsxs)("li",{className:F,children:[(0,L.jsx)("span",{className:P,children:"Followers:"}),(0,L.jsx)("span",{className:T,children:!M&&(r?null===s||void 0===s?void 0:s.followers:W)})]}),r&&(0,L.jsxs)("li",{className:F,children:[(0,L.jsx)("span",{className:P,children:"Following:"}),(0,L.jsx)("span",{className:T,children:!M&&(null===s||void 0===s||null===(e=s.following)||void 0===e?void 0:e.length)})]})]})]}),r&&(0,L.jsx)(j.Z,{type:"button",onClick:()=>B(!0),"aria-label":"Log out","aria-haspopup":"dialog","aria-expanded":E,children:"Log out"}),!r&&(null!==a&&void 0!==a&&a.includes(i)?(0,L.jsx)(j.Z,{type:"button",onClick:()=>(async e=>{V(!0);try{const{data:a}=await(0,m.ER)(e);o((e=>({...e,followers:e.followers-1}))),n((0,u.g8)(a.following))}catch(a){(0,f.x)(a)}finally{V(!1),window.location.reload()}})(i),disabled:O,children:"Following"}):(0,L.jsx)(j.Z,{type:"button",onClick:()=>(async e=>{V(!0);try{const{data:a}=await(0,m.Am)(e);o((e=>({...e,followers:e.followers+1}))),n((0,u.g8)(a.following))}catch(a){(0,f.x)(a)}finally{V(!1),window.location.reload()}})(i),disabled:O,children:"Follow"})),(0,L.jsx)(v.Z,{showModal:E,onClose:()=>B(!1),children:(0,L.jsx)(x.Z,{onClose:()=>B(!1)})})]})};var B=s(1087),M=s(6033);const q="TabsList_tabs_wrapper__29yMQ",D="TabsList_tabs_list__03iky",H="TabsList_tab__5plTK",O={current:[{name:"My recipes",path:"recipes"},{name:"My favorites",path:"favorites"},{name:"Followers",path:"followers"},{name:"Following",path:"following"}],other:[{name:"Recipes",path:"recipes"},{name:"Followers",path:"followers"}]},V=()=>{const e=(0,l.TH)(),a=(0,n.kf)(),s=(0,n.Pv)(),[i,r]=(0,t.useState)(null),[c,o]=(0,t.useState)(0),[d,u]=(0,t.useState)(0),[h,p]=(0,t.useState)(0),_=(0,t.useRef)(null),m=(0,t.useRef)(null),f=(0,t.useRef)(null),v="current"===(0,l.UO)().id?"current":"other";return(0,t.useLayoutEffect)((()=>{r(e.pathname.split("/").slice(-1)[0])}),[e.pathname]),(0,t.useLayoutEffect)((()=>{_.current&&m.current&&f.current&&((()=>{const e=f.current,a=e.getBoundingClientRect(),s=m.current.getBoundingClientRect();o(e.offsetWidth),u(a.left-s.left),p(s.width)})(),a&&(0,M.I)(_.current,f.current))}),[i,a,s]),(0,L.jsx)("div",{ref:_,className:q,style:{"--var-active-width":"".concat(c,"px"),"--var-active-left":"".concat(d,"px"),"--var-tabs-width":"".concat(h,"px")},children:(0,L.jsx)("ul",{className:D,ref:m,children:O[v].map(((e,a)=>{let{name:s,path:t}=e;return(0,L.jsx)("li",{children:(0,L.jsx)(B.OL,{to:t,ref:i===t?f:null,className:H,children:s})},a)}))})})};var A=s(6215);const K=()=>{const e=(0,n.eW)();return(0,L.jsxs)(i.Z,{tag:"section",page:"profile",children:[(0,L.jsxs)("div",{className:"section",children:[(0,L.jsx)(r.Z,{current:"Profile"}),(0,L.jsxs)("div",{children:[(0,L.jsx)(c.Z,{children:"Profile"}),(0,L.jsx)(o.Z,{children:"Reveal your culinary art, share your favorite recipe and create gastronomic masterpieces with us."})]}),!e&&(0,L.jsx)(E,{})]}),(0,L.jsxs)("div",{className:"section_row",children:[e&&(0,L.jsx)(E,{}),(0,L.jsxs)("div",{className:"section",children:[(0,L.jsx)(V,{}),(0,L.jsx)(t.Suspense,{fallback:(0,L.jsx)(A.Z,{}),children:(0,L.jsx)(l.j3,{})})]})]})]})}},6809:(e,a,s)=>{s.d(a,{$7:()=>l,Am:()=>i,ER:()=>n,ET:()=>r,W6:()=>c});var t=s(9503);const l=function(){let{page:e,limit:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.hi.get("/api/users/following",{params:{page:e,limit:a}})},n=e=>t.hi.patch("/api/users/removeFollowing/".concat(e)),i=e=>t.hi.patch("/api/users/addFollowing/".concat(e)),r=function(e){let{page:a,limit:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.hi.get("/api/users/followers/".concat(e),{params:{page:a,limit:s}})},c=function(){let{page:e,limit:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.hi.get("/api/users/followers",{params:{page:e,limit:a}})}}}]);
//# sourceMappingURL=177.1303ea96.chunk.js.map