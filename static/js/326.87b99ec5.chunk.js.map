{"version":3,"file":"static/js/326.87b99ec5.chunk.js","mappings":"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","sources":["webpack://project-ucranes03/./src/components/Categories/CategoryList/CategoryList.module.css?ab06","components/Categories/CategoryList/CategorySkeleton.jsx","components/Categories/CategoryList/CategoryList.jsx","components/Categories/Categories.jsx","webpack://project-ucranes03/./src/components/Shared/Empty/Empty.module.css?e859","components/Shared/Empty/Empty.jsx","webpack://project-ucranes03/./src/components/Shared/MainTitle/MainTitle.module.css?2cff","components/Shared/MainTitle/MainTitle.jsx","webpack://project-ucranes03/./src/components/Shared/Subtitle/Subtitle.module.css?b65a","components/Shared/Subtitle/Subtitle.jsx","store/categoriesSlice/selectors.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"categories_list\":\"CategoryList_categories_list__oAl+t\",\"category_item\":\"CategoryList_category_item__qgCIY\",\"all_categories\":\"CategoryList_all_categories__U2M+b\",\"all_categories_button\":\"CategoryList_all_categories_button__iYngo\",\"category_link_container\":\"CategoryList_category_link_container__b+ist\",\"category_link\":\"CategoryList_category_link__I1E5+\",\"category_arrow\":\"CategoryList_category_arrow__UiBKh\"};","import css from './CategoryList.module.css';\n\nconst CategorySkeleton = () => {\n  return (\n    <li\n      style={{\n        backgroundColor: 'var(--color-main-10)',\n        animation: 'var(--animation-skeleton)',\n      }}\n      className={css.category_item}\n    ></li>\n  );\n};\n\nexport default CategorySkeleton;\n","import { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { getImageUrlResized } from 'helpers/cloudinary';\nimport {\n  useDesktopMediaQuery,\n  useRetinaMediaQuery,\n  useTabletMediaQuery,\n} from 'hooks/device-type';\nimport {\n  selectCategories,\n  selectError,\n  selectIsLoading,\n} from 'store/categoriesSlice/selectors';\nimport { fetchCategories } from 'store/categoriesSlice/thunks';\nimport CategorySkeleton from './CategorySkeleton';\nimport Empty from 'components/Shared/Empty/Empty';\nimport sprite from 'images/icons.svg';\nimport css from './CategoryList.module.css';\n\nconst CategoryList = () => {\n  const [showAll, setShowAll] = useState(false);\n  const dispatch = useDispatch();\n  const categories = useSelector(selectCategories);\n  const isLoading = useSelector(selectIsLoading);\n  const isError = useSelector(selectError);\n  const isDesktop = useDesktopMediaQuery();\n  const isTablet = useTabletMediaQuery();\n  const isRetina = useRetinaMediaQuery();\n\n  const limit = isDesktop || isTablet ? 11 : 8;\n  const accentImages = isDesktop ? [2, 3, 7, 9] : isTablet ? [2, 7] : [];\n  const accentWidth = isDesktop ? 590 : isTablet ? 704 : 343;\n  const width = isDesktop ? 325 : isTablet ? 342 : 343;\n  const accentAspectRatio = isDesktop ? '1.6' : isTablet ? '1.91' : '1.37';\n  const aspectRatio = isDesktop ? '0.88' : isTablet ? '0.93' : '1.37';\n\n  useEffect(() => {\n    if (!categories.length) {\n      dispatch(fetchCategories());\n    }\n  }, [categories.length, dispatch]);\n\n  return isError ? (\n    <Empty>Failed to load categories</Empty>\n  ) : (\n    <ul className={css.categories_list}>\n      {isLoading\n        ? [...Array(limit + 1)].map((_, idx) => <CategorySkeleton key={idx} />)\n        : categories\n            .slice(0, showAll ? categories.length : limit)\n            .map(({ _id, name, thumb }, idx) => (\n              <li\n                key={_id}\n                className={css.category_item}\n                style={{\n                  '--category-image': `url(${getImageUrlResized(thumb, {\n                    aspectRatio: accentImages.includes(idx % 12)\n                      ? accentAspectRatio\n                      : aspectRatio,\n                    width: accentImages.includes(idx % 12)\n                      ? accentWidth\n                      : width,\n                    pixelRatio: isRetina ? 2 : 1,\n                  })})`,\n                }}\n              >\n                <div className={css.category_link_container}>\n                  <Link\n                    className={css.category_link}\n                    to={`recipes?category=${_id}`}\n                  >\n                    {name}\n                  </Link>\n                  <Link\n                    className={css.category_arrow}\n                    to={`recipes?category=${_id}`}\n                  >\n                    <svg width=\"18\" height=\"18\">\n                      <use href={sprite + '#icon-arrow-up-right'}></use>\n                    </svg>\n                  </Link>\n                </div>\n              </li>\n            ))}\n      {!isLoading && !showAll && (\n        <li className={css.all_categories}>\n          <button\n            onClick={() => setShowAll(!showAll)}\n            className={css.all_categories_button}\n            type=\"button\"\n          >\n            All categories\n          </button>\n        </li>\n      )}\n    </ul>\n  );\n};\n\nexport default CategoryList;\n","import MainTitle from 'components/Shared/MainTitle/MainTitle';\nimport Subtitle from 'components/Shared/Subtitle/Subtitle';\nimport CategoryList from './CategoryList/CategoryList';\n\nconst Categories = () => {\n  return (\n    <section className=\"section\">\n      <div>\n        <MainTitle>Categories</MainTitle>\n        <Subtitle section=\"categories\">\n          Discover a limitless world of culinary possibilities and enjoy\n          exquisite recipes that combine taste, style and the warm atmosphere of\n          the kitchen.\n        </Subtitle>\n      </div>\n      <CategoryList />\n    </section>\n  );\n};\n\nexport default Categories;\n","// extracted by mini-css-extract-plugin\nexport default {\"text\":\"Empty_text__F5nPx\"};","import css from './Empty.module.css';\n\nconst Empty = ({ children }) => {\n  return <p className={css.text}>{children}</p>;\n};\n\nexport default Empty;\n","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"MainTitle_title__R5KXq\"};","import css from './MainTitle.module.css';\n\nconst MainTitle = ({ children }) => {\n  return <h2 className={css.title}>{children}</h2>;\n};\n\nexport default MainTitle;\n","// extracted by mini-css-extract-plugin\nexport default {\"text\":\"Subtitle_text__tBnTO\",\"categories\":\"Subtitle_categories__vridf\",\"recipes\":\"Subtitle_recipes__qvZt7\"};","import css from './Subtitle.module.css';\n\nconst Subtitle = ({ section, children }) => {\n  return (\n    <p className={`${css.text} ${section ? css[section] : ''}`}>{children}</p>\n  );\n};\n\nexport default Subtitle;\n","import { createSelector } from '@reduxjs/toolkit';\n\nexport const selectCategories = state => state.categories.items;\nexport const selectError = state => state.categories.error;\nexport const selectIsLoading = state => state.categories.isLoading;\nexport const selectCategoriesOptions = createSelector(\n  selectCategories,\n  categories => categories.map(({ _id, name }) => ({ value: _id, label: name }))\n);\nexport const selectActiveCategory = createSelector(\n  [selectCategories, (_, itemId) => itemId],\n  (items, itemId) => items?.find(({ _id }) => _id === itemId)\n);\n"],"names":["CategorySkeleton","_jsx","style","backgroundColor","animation","className","css","CategoryList","showAll","setShowAll","useState","dispatch","useDispatch","categories","useSelector","selectCategories","isLoading","selectIsLoading","isError","selectError","isDesktop","useDesktopMediaQuery","isTablet","useTabletMediaQuery","isRetina","useRetinaMediaQuery","limit","accentImages","accentWidth","width","accentAspectRatio","aspectRatio","useEffect","length","fetchCategories","Empty","children","_jsxs","Array","map","_","idx","slice","_ref","_id","name","thumb","concat","getImageUrlResized","includes","pixelRatio","Link","to","height","href","sprite","onClick","type","Categories","MainTitle","Subtitle","section","state","items","error","selectCategoriesOptions","createSelector","value","label","selectActiveCategory","itemId","find","_ref2"],"sourceRoot":""}